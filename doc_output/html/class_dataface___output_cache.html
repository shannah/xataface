<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Xataface: Dataface_OutputCache Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xataface-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Xataface
   &#160;<span id="projectnumber">2.0alpha2</span>
   </div>
   <div id="projectbrief">Xataface Application Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">Dataface_OutputCache Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac4d3607d5e3b10af4542634e4b028c86"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#ac4d3607d5e3b10af4542634e4b028c86">Dataface_OutputCache</a> ($params=array())</td></tr>
<tr class="memitem:a05f6aa1ffae6295260d9f1cca016bf33"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a05f6aa1ffae6295260d9f1cca016bf33">getUserId</a> ()</td></tr>
<tr class="memitem:a273ac33604fe74ba12c3e16db4460cf5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a273ac33604fe74ba12c3e16db4460cf5">_buildPageSelect</a> ($params=array())</td></tr>
<tr class="memitem:a39305e3dee9957bc38cd3fc23d094c2c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a39305e3dee9957bc38cd3fc23d094c2c">getPage</a> ($params=array())</td></tr>
<tr class="memitem:aed3739632c32a85b41aae45fe09a8b1d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#aed3739632c32a85b41aae45fe09a8b1d">numCurrentVersions</a> ($params=array())</td></tr>
<tr class="memitem:a77485c8c0774ff39ad686c2c3c696c61"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a77485c8c0774ff39ad686c2c3c696c61">ob_start</a> ($params=array())</td></tr>
<tr class="memitem:a5b5651584aaaa7cbe9d8b5b9c2bd6120"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a5b5651584aaaa7cbe9d8b5b9c2bd6120">ob_flush</a> ($data)</td></tr>
<tr class="memitem:a7b419486eaf749019b1e94b2276421d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a7b419486eaf749019b1e94b2276421d1">getPageID</a> ($params=array())</td></tr>
<tr class="memitem:a4ebb357b64056fc68475cc6d30b961e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a4ebb357b64056fc68475cc6d30b961e2">cachePage</a> ($params=array())</td></tr>
<tr class="memitem:a26d11bc257c84dd021fdf8c2d08b7021"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a26d11bc257c84dd021fdf8c2d08b7021">_gzipGetFourChars</a> ($Val)</td></tr>
<tr class="memitem:aed0c80deb8ba6ff81fed3bc2f1cdc29a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#aed0c80deb8ba6ff81fed3bc2f1cdc29a">_createCacheTable</a> ()</td></tr>
<tr class="memitem:abdab67852a0b21c3f40b65b25feab1b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#abdab67852a0b21c3f40b65b25feab1b9">_cacheTableExists</a> ()</td></tr>
<tr class="memitem:a79777aeaff8398feac96662c64d39655"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a79777aeaff8398feac96662c64d39655">cleanCache</a> ()</td></tr>
<tr class="memitem:af7ccccb4221d8a37ac3b6a103f03dee3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#af7ccccb4221d8a37ac3b6a103f03dee3">gzipSupported</a> ()</td></tr>
<tr class="memitem:a49a2a534565fd334f6ef4a0aebd4a265"><td class="memItemLeft" align="right" valign="top">&amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a49a2a534565fd334f6ef4a0aebd4a265">getTableModificationTimes</a> ()</td></tr>
<tr class="memitem:ab9a5d9af21d09437f70879d8455dfa54"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#ab9a5d9af21d09437f70879d8455dfa54">isModified</a> ($time, $tables=null)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a5cd27fecc887bbff4aebe8f874b51e49"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a5cd27fecc887bbff4aebe8f874b51e49">$useGzipCompression</a> = true</td></tr>
<tr class="memitem:aea06aaf672e3fe5fbf45958ae2782244"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#aea06aaf672e3fe5fbf45958ae2782244">$tableName</a> = '__output_cache'</td></tr>
<tr class="memitem:a4ef49a546aed6a5aaef28568aab75b44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a4ef49a546aed6a5aaef28568aab75b44">$ignoredTables</a> = array()</td></tr>
<tr class="memitem:afd5aa0b16366dfb19dbd8c4335e916b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#afd5aa0b16366dfb19dbd8c4335e916b1">$observedTables</a> = array()</td></tr>
<tr class="memitem:a07f563be769491e2109f0f019258ea43"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a07f563be769491e2109f0f019258ea43">$exemptActions</a> = array()</td></tr>
<tr class="memitem:a1177b79a754ff1d6cd64a9633f8f9fed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a1177b79a754ff1d6cd64a9633f8f9fed">$stripKeys</a> = array('-l','-lang')</td></tr>
<tr class="memitem:adfb117f244076aa9bc269269f7e57403"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#adfb117f244076aa9bc269269f7e57403">$app</a></td></tr>
<tr class="memitem:ab1128feadf0049dd1af715cf251ac0e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#ab1128feadf0049dd1af715cf251ac0e9">$threshold</a> = 0.1</td></tr>
<tr class="memitem:aec66a78f25e4b64e9fb9afb26ec60a27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#aec66a78f25e4b64e9fb9afb26ec60a27">$tableModificationTimes</a></td></tr>
<tr class="memitem:a128a43c83c318f5a1e1cea988beba6b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a128a43c83c318f5a1e1cea988beba6b6">$lifeTime</a> = 360000</td></tr>
<tr class="memitem:a970327e3fabc12fab1f5e5dfbdae13eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a970327e3fabc12fab1f5e5dfbdae13eb">$randomize</a> = 0</td></tr>
<tr class="memitem:a5d489845d524fd8bf915315a9c844e99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a5d489845d524fd8bf915315a9c844e99">$_cacheTableExists</a> = null</td></tr>
<tr class="memitem:a6ab0d97ce9c68912add86fba1acc87aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a6ab0d97ce9c68912add86fba1acc87aa">$lastModified</a> = null</td></tr>
<tr class="memitem:a52500036ee807241b8b4b7e2367c49ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a52500036ee807241b8b4b7e2367c49ef">$headers</a> = array()</td></tr>
<tr class="memitem:a84651f4070d04080f6c5fd3c98cc9104"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a84651f4070d04080f6c5fd3c98cc9104">$userId</a> = null</td></tr>
<tr class="memitem:a5b95eae8306a053a14ca80bace9af3ad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___output_cache.html#a5b95eae8306a053a14ca80bace9af3ad">$usedTables</a> = array()</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A class to handle caching of output. It takes into account whether database tables have been updated to decide whether a cached version is valid or not. </p>

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00006">6</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>
</div><h2>Member Function Documentation</h2>
<a class="anchor" id="a273ac33604fe74ba12c3e16db4460cf5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_buildPageSelect </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds the where clause for a select statement to get cached versions of pages from the database. </p>

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00072">72</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="abdab67852a0b21c3f40b65b25feab1b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_cacheTableExists </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if the database table to store the cached pages already exists. if it doesn't we shall have to create it. </p>
<dl class="section return"><dt>Returns</dt><dd>boolean </dd></dl>

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00552">552</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="aed0c80deb8ba6ff81fed3bc2f1cdc29a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_createCacheTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates the table to store the cached pages. </p>

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00526">526</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a26d11bc257c84dd021fdf8c2d08b7021"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_gzipGetFourChars </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$Val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A utility script to get 4 characters from the size or CRC of a gzip file. Borrowed from php.net (<a href="http://ca.php.net/gzcompress">http://ca.php.net/gzcompress</a>). </p>

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00512">512</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4ebb357b64056fc68475cc6d30b961e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cachePage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Saves a page into the database. This will save both the raw text and a gzipped version (if the zlib extension is present).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$params</td><td>An associative array of parameters: </td></tr>
    <tr><td class="paramname">id</td><td>The Page id to store this data as. This is a required field It is stored as a VARCHAR(64) so it can be any string not longer than 64 characters. </td></tr>
    <tr><td class="paramname">data</td><td>The content of the page to be cached. Required. </td></tr>
    <tr><td class="paramname">lang</td><td>The language of the content. Optional. Will default to the currently selected language ($app-&gt;_conf['lang']). </td></tr>
    <tr><td class="paramname">user</td><td>The username of the user that this page is cached for. Defaults to currently logged in user. </td></tr>
    <tr><td class="paramname">expires</td><td>The unix timestamp when this page will expire. Optional. Defaults to NOW + $this-&gt;lifeTime (usually 3600 seconds). </td></tr>
    <tr><td class="paramname">tables</td><td>An array or comma-delimited list of table names that This page depends on. If these tables have been updated after the cache is created then the cache is invalidated.  An optional integer number of versions of this page that should stay on random rotation. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00351">351</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a79777aeaff8398feac96662c64d39655"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cleanCache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deletes all expired pages from the cache. </p>

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00564">564</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac4d3607d5e3b10af4542634e4b028c86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_dataface___output_cache.html">Dataface_OutputCache</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00029">29</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a39305e3dee9957bc38cd3fc23d094c2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getPage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Obtains the cached version of a page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$params</td><td>Associative array of parameters: </td></tr>
    <tr><td class="paramname">id</td><td>The Page ID of the page we wish to obtain. This is stored as a VARCHAR(64) so it can be any string not longer than 64 characters. </td></tr>
    <tr><td class="paramname">lang</td><td>The language of the page (e.g. en, fr, zh, etc...). This will default to the currently logged in user </td></tr>
    <tr><td class="paramname">user</td><td>The user id of the user accessing the page. This will default to the currently logged in user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The cached content (possibly gzip compressed). Or null if there was no valid cached version. </dd></dl>

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00106">106</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a7b419486eaf749019b1e94b2276421d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getPageID </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00320">320</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a49a2a534565fd334f6ef4a0aebd4a265"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; getTableModificationTimes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns an associative array of table names and their associated update times as unix timestamps. eg: [Tablename] -&gt; [Unix Timestamp] </p>

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00582">582</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a05f6aa1ffae6295260d9f1cca016bf33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getUserId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00048">48</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="af7ccccb4221d8a37ac3b6a103f03dee3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gzipSupported </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Indicates whether the user's browser supports gzip compression. This is important because, if it does, then we will be using the GZIP compressed versions of cached pages to save bandwidth and reduce latency. </p>

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00573">573</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab9a5d9af21d09437f70879d8455dfa54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">isModified </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tables</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks to see if any of the specified tables have been modified since a given time. Note that the tables stored in $this-&gt;observedTables will automatically be added to $tables for this check. $this-&gt;observedTables is an array of tablenames that must always be observed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$time</td><td>The unix timestamp that we are checking against. </td></tr>
    <tr><td class="paramname">$tables</td><td>An array (or comma-delimited string) of table names </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the tables have been modified since $time. False otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00599">599</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="aed3739632c32a85b41aae45fe09a8b1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numCurrentVersions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of versions of a page there are still current. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$params</td><td>Associative array of parameters: </td></tr>
    <tr><td class="paramname">id</td><td>The Page ID of the page we wish to obtain. This is stored as a VARCHAR(64) so it can be any string not longer than 64 characters. </td></tr>
    <tr><td class="paramname">lang</td><td>The language of the page (e.g. en, fr, zh, etc...). This will default to the currently logged in user </td></tr>
    <tr><td class="paramname">user</td><td>The user id of the user accessing the page. This will default to the currently logged in user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Integer number of current versions. </dd></dl>

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00151">151</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5b5651584aaaa7cbe9d8b5b9c2bd6120"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ob_flush </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00290">290</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a77485c8c0774ff39ad686c2c3c696c61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ob_start </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$params</em> = <code>array()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts buffering output. This will first check for a cached version of the current page, however, and output that to the browser. If that fails, then this will turn on output buffering and register the OutputCache::ob_flush() method (in this class) to can called when the script finishes - or when <a class="el" href="class_dataface___output_cache.html#a5b5651584aaaa7cbe9d8b5b9c2bd6120">ob_flush()</a> is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$params</td><td>Associative array of parameters: </td></tr>
    <tr><td class="paramname">id</td><td>The Page id to store this data as. Optional. If omitted Then an md5 hash of the current REQUEST_URI is used as the ID. It is stored as a VARCHAR(64) so it can be any string not longer than 64 characters. </td></tr>
    <tr><td class="paramname">data</td><td>The content of the page to be cached. Required. </td></tr>
    <tr><td class="paramname">lang</td><td>The language of the content. Optional. Will default to the currently selected language ($app-&gt;_conf['lang']). </td></tr>
    <tr><td class="paramname">user</td><td>The username of the user that this page is cached for. Defaults to currently logged in user. </td></tr>
    <tr><td class="paramname">expires</td><td>The unix timestamp when this page will expire. Optional. Defaults to NOW + $this-&gt;lifeTime (usually 3600 seconds). </td></tr>
    <tr><td class="paramname">tables</td><td>An array or comma-delimited list of table names that This page depends on. If these tables have been updated after the cache is created then the cache is invalidated.  An optional integer number of versions of this page that should stay on random rotation. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00190">190</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<h2>Field Documentation</h2>
<a class="anchor" id="a5d489845d524fd8bf915315a9c844e99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$<a class="el" href="class_dataface___output_cache.html#abdab67852a0b21c3f40b65b25feab1b9">_cacheTableExists</a> = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00019">19</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="adfb117f244076aa9bc269269f7e57403"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$app</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00014">14</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a07f563be769491e2109f0f019258ea43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$exemptActions = array()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00012">12</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a52500036ee807241b8b4b7e2367c49ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$headers = array()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00021">21</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4ef49a546aed6a5aaef28568aab75b44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$ignoredTables = array()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00010">10</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a6ab0d97ce9c68912add86fba1acc87aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$lastModified = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00020">20</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a128a43c83c318f5a1e1cea988beba6b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$lifeTime = 360000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00017">17</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="afd5aa0b16366dfb19dbd8c4335e916b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$observedTables = array()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00011">11</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a970327e3fabc12fab1f5e5dfbdae13eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$randomize = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00018">18</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a1177b79a754ff1d6cd64a9633f8f9fed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$stripKeys = array('-l','-lang')</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00013">13</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="aec66a78f25e4b64e9fb9afb26ec60a27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$tableModificationTimes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00016">16</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="aea06aaf672e3fe5fbf45958ae2782244"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$tableName = '__output_cache'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00009">9</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab1128feadf0049dd1af715cf251ac0e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$threshold = 0.1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00015">15</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5b95eae8306a053a14ca80bace9af3ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$usedTables = array()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A list of the tables that have been used in the current request. </p>

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00027">27</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5cd27fecc887bbff4aebe8f874b51e49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$useGzipCompression = true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00008">8</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<a class="anchor" id="a84651f4070d04080f6c5fd3c98cc9104"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$userId = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_output_cache_8php_source.html#l00022">22</a> of file <a class="el" href="_output_cache_8php_source.html">OutputCache.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Dataface/<a class="el" href="_output_cache_8php_source.html">OutputCache.php</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2013 09:40:35 for Xataface by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
