<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Xataface: Dataface_FormTool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xataface-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Xataface
   &#160;<span id="projectnumber">2.0alpha2</span>
   </div>
   <div id="projectbrief">Xataface Application Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">Dataface_FormTool Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class encapsulating the most common form building and processing functions in dataface.  
 <a href="class_dataface___form_tool.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a87346da9e3bced13bb48d5653cd06632"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a87346da9e3bced13bb48d5653cd06632">pullField</a> ($record, &amp;$field, $form, $formFieldName, $new=false)</td></tr>
<tr class="memdesc:a87346da9e3bced13bb48d5653cd06632"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pulls the data from the underlying $record object into the field. This method will obtain it's value from the following mechanisms in order:  <a href="#a87346da9e3bced13bb48d5653cd06632"></a><br/></td></tr>
<tr class="memitem:a22b8471dbfcd11943997e0caf7ba974a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a22b8471dbfcd11943997e0caf7ba974a">pushField</a> ($record, &amp;$field, $form, $formFieldName, $new=false)</td></tr>
<tr class="memdesc:a22b8471dbfcd11943997e0caf7ba974a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pushes data from a form widget into a <a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a> object. This will try to delegate to the following mechanisms if found:  <a href="#a22b8471dbfcd11943997e0caf7ba974a"></a><br/></td></tr>
<tr class="memitem:ab1003263d5eafd616a16bc1a5ca9262e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#ab1003263d5eafd616a16bc1a5ca9262e">pushValue</a> ($record, &amp;$field, $form, &amp;$element, &amp;$metaValues)</td></tr>
<tr class="memdesc:ab1003263d5eafd616a16bc1a5ca9262e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts value from the form ready to be stored in the table. This doesn't actually push the data into the record, only obtains the data ready to be pushed.  <a href="#ab1003263d5eafd616a16bc1a5ca9262e"></a><br/></td></tr>
<tr class="memitem:a6b8d3c89da9a982518dd9903dd227546"><td class="memItemLeft" align="right" valign="top">&amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a6b8d3c89da9a982518dd9903dd227546">buildWidget</a> ($record, &amp;$field, $form, $formFieldName, $new=false, $permissions=null)</td></tr>
<tr class="memdesc:a6b8d3c89da9a982518dd9903dd227546"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a widget that can be added to a form. This will delegate to the <a class="el" href="interface_widget_handler.html#a04cd107b4dd1798351f535c97af61b0e" title="Creates a widget for a specific field on a form.">WidgetHandler::buildWidget()</a> method if defined for the field's widget type.  <a href="#a6b8d3c89da9a982518dd9903dd227546"></a><br/></td></tr>
<tr class="memitem:af6c31f1f026f1a025877fbfec4ba896a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#af6c31f1f026f1a025877fbfec4ba896a">registerWidgetHandler</a> ($widgetType, $path, $class)</td></tr>
<tr class="memdesc:af6c31f1f026f1a025877fbfec4ba896a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a class to handle the pushing and pulling for a particular type of widget. This is the mechanism by which custom widgets can be created and registered. All that is required is to define a <a class="el" href="interface_widget_handler.html" title="An interface for widget handlers. This interface is not real. It is only used for documentation purpo...">WidgetHandler</a> and then register that handler with the form tool with this method.  <a href="#af6c31f1f026f1a025877fbfec4ba896a"></a><br/></td></tr>
<tr class="memitem:a688c626b18be5cb99a75ed35df471c99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a688c626b18be5cb99a75ed35df471c99">unregisterWidgetHandler</a> ($widgetType)</td></tr>
<tr class="memdesc:a688c626b18be5cb99a75ed35df471c99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregisters a particular widget handler.  <a href="#a688c626b18be5cb99a75ed35df471c99"></a><br/></td></tr>
<tr class="memitem:a87b5fa46e6da9512fa1dbcd67b37874c"><td class="memItemLeft" align="right" valign="top">&amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a87b5fa46e6da9512fa1dbcd67b37874c">getWidgetHandler</a> ($widgetType)</td></tr>
<tr class="memdesc:a87b5fa46e6da9512fa1dbcd67b37874c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains a reference to the widget handler object for a particular type of widget.  <a href="#a87b5fa46e6da9512fa1dbcd67b37874c"></a><br/></td></tr>
<tr class="memitem:a7e358a52dc56ac3f85cb5e6bea9bf537"><td class="memItemLeft" align="right" valign="top">&amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a7e358a52dc56ac3f85cb5e6bea9bf537">getElement</a> (&amp;$form, &amp;$field, $name)</td></tr>
<tr class="memdesc:a7e358a52dc56ac3f85cb5e6bea9bf537"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets an element from a form.  <a href="#a7e358a52dc56ac3f85cb5e6bea9bf537"></a><br/></td></tr>
<tr class="memitem:a65a9cba4c54dd29dbb6985dd631f622d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a65a9cba4c54dd29dbb6985dd631f622d">groupFields</a> (&amp;$fields)</td></tr>
<tr class="memdesc:a65a9cba4c54dd29dbb6985dd631f622d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Groups a collection of fields together by group.  <a href="#a65a9cba4c54dd29dbb6985dd631f622d"></a><br/></td></tr>
<tr class="memitem:af6f4587a369389bc89299a8daf903181"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#af6f4587a369389bc89299a8daf903181">display</a> (&amp;$form, $template=null, $singleField=false, $useTabs=false)</td></tr>
<tr class="memdesc:af6f4587a369389bc89299a8daf903181"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays a form.  <a href="#af6f4587a369389bc89299a8daf903181"></a><br/></td></tr>
<tr class="memitem:a4267cee4a869bfeed64a996e5f6a2c4e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a4267cee4a869bfeed64a996e5f6a2c4e">createRecordForm</a> ($record, $new=false, $tab=null, $query=null)</td></tr>
<tr class="memdesc:a4267cee4a869bfeed64a996e5f6a2c4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds an HTML_QuickForm object to edit the given record.  <a href="#a4267cee4a869bfeed64a996e5f6a2c4e"></a><br/></td></tr>
<tr class="memitem:a3b54979c00abcd566eb689f8671edd9c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a3b54979c00abcd566eb689f8671edd9c">decorateRecordForm</a> ($record, &amp;$form, $new=false, $tab=null)</td></tr>
<tr class="memdesc:a3b54979c00abcd566eb689f8671edd9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the necessary extra fields to a form to equip it to be used to edit the given record. In particular, it adds the next, submit, etc.. buttons to the bottom of the form. It also adds a <b>keys</b> group to store/submit the keys of the record so that the correct record is processed when the form is submitted.  <a href="#a3b54979c00abcd566eb689f8671edd9c"></a><br/></td></tr>
<tr class="memitem:aba01026fe1f6d16599a2acf38d9777ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#aba01026fe1f6d16599a2acf38d9777ee">validateRecordForm</a> ($record, &amp;$form, $new=false, $tab=null)</td></tr>
<tr class="memdesc:aba01026fe1f6d16599a2acf38d9777ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates a form to see if it is ready to be processed.  <a href="#aba01026fe1f6d16599a2acf38d9777ee"></a><br/></td></tr>
<tr class="memitem:ae2ca65505823b97357d6f16665bfbe83"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#ae2ca65505823b97357d6f16665bfbe83">handleTabSubmit</a> ($record, $form, $tab=null)</td></tr>
<tr class="memdesc:ae2ca65505823b97357d6f16665bfbe83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles form submission for the given form. It handles multi-tab forms and even sends an HTTP redirect to the correct tab upon submission, if the action requested was to go to a different tab.  <a href="#ae2ca65505823b97357d6f16665bfbe83"></a><br/></td></tr>
<tr class="memitem:a71ebaf9986ecfb54823683b66bb585e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a71ebaf9986ecfb54823683b66bb585e6">createHTMLTabs</a> ($record, $form, $selectedTab)</td></tr>
<tr class="memdesc:a71ebaf9986ecfb54823683b66bb585e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an data-structure representing the tabs that can be displayed for a record form.  <a href="#a71ebaf9986ecfb54823683b66bb585e6"></a><br/></td></tr>
<tr class="memitem:a71b7a74bd23b2c2be77aad5448cda40b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a71b7a74bd23b2c2be77aad5448cda40b">getSessionKey</a> ()</td></tr>
<tr class="memdesc:a71b7a74bd23b2c2be77aad5448cda40b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the key that is used to keep track of this particular session. This manifests itself as the $_GET['&ndash;form-session-key'] variable. If no session key is set, this will generate a new one and add a '&ndash;form-session-key' variable to the current $query.  <a href="#a71b7a74bd23b2c2be77aad5448cda40b"></a><br/></td></tr>
<tr class="memitem:ab950c4bde89b53eb4523425284cb3855"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#ab950c4bde89b53eb4523425284cb3855">getSessionData</a> ($tab=null, $session_key=null)</td></tr>
<tr class="memdesc:ab950c4bde89b53eb4523425284cb3855"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an associative array of the session data, either for the current tab or for all tabs.  <a href="#ab950c4bde89b53eb4523425284cb3855"></a><br/></td></tr>
<tr class="memitem:a2f16f53aaf593ead7c2f378ad86cbe7f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a2f16f53aaf593ead7c2f378ad86cbe7f">clearSessionData</a> ($session_key=null)</td></tr>
<tr class="memdesc:a2f16f53aaf593ead7c2f378ad86cbe7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the session data for the tab current form. This does not clear the session data for the entire session, just this form.  <a href="#a2f16f53aaf593ead7c2f378ad86cbe7f"></a><br/></td></tr>
<tr class="memitem:a9f87159e7f7f15372e914b0b835098a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a9f87159e7f7f15372e914b0b835098a6">storeSessionData</a> ($data, $tab, $session_key=null, $record_id=null)</td></tr>
<tr class="memdesc:a9f87159e7f7f15372e914b0b835098a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores data from a form session so that it can be retrieved in the next page or the next time a tab is loaded for this form.  <a href="#a9f87159e7f7f15372e914b0b835098a6"></a><br/></td></tr>
<tr class="memitem:a88ff4125d48b19c1d23812c6f79992e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a88ff4125d48b19c1d23812c6f79992e0">createRecordButtons</a> ($record, $currentTab=null)</td></tr>
<tr class="memdesc:a88ff4125d48b19c1d23812c6f79992e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and HTML_QuickForm group that can be added a a QuickForm object to serve as the submit buttons for edit (or new record) forms. By default this will create buttons for each tab, a back, next, and save buttons.  <a href="#a88ff4125d48b19c1d23812c6f79992e0"></a><br/></td></tr>
<tr class="memitem:a5759f6173ab42764776e059546d6d0a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a5759f6173ab42764776e059546d6d0a7">saveSession</a> ($record, $new=false, $session_key=null)</td></tr>
<tr class="memdesc:a5759f6173ab42764776e059546d6d0a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Now that we allow tabbed forms, we may be temporarily storing data in the session. This goes through the session data and saves it to the appropriate places.  <a href="#a5759f6173ab42764776e059546d6d0a7"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a940c46dff92c1704a1d43d2926a72ba0"><td class="memItemLeft" align="right" valign="top">static &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a940c46dff92c1704a1d43d2926a72ba0">getInstance</a> ()</td></tr>
<tr class="memdesc:a940c46dff92c1704a1d43d2926a72ba0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Singleton method for obtaining a reference to the <a class="el" href="class_dataface___form_tool.html" title="A class encapsulating the most common form building and processing functions in dataface.">Dataface_FormTool</a> object.  <a href="#a940c46dff92c1704a1d43d2926a72ba0"></a><br/></td></tr>
<tr class="memitem:a47f02f15b11d4491e056298910e4204a"><td class="memItemLeft" align="right" valign="top">static &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a47f02f15b11d4491e056298910e4204a">factory</a> ()</td></tr>
<tr class="memdesc:a47f02f15b11d4491e056298910e4204a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a QuickForm object that can be used to generate elements safely.  <a href="#a47f02f15b11d4491e056298910e4204a"></a><br/></td></tr>
<tr class="memitem:a27fe5047cbebe8bbbc93379c7cde1387"><td class="memItemLeft" align="right" valign="top">static &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a27fe5047cbebe8bbbc93379c7cde1387">getVocabulary</a> ($record, &amp;$field)</td></tr>
<tr class="memdesc:a27fe5047cbebe8bbbc93379c7cde1387"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a vocabulary that can be used in a particular field.  <a href="#a27fe5047cbebe8bbbc93379c7cde1387"></a><br/></td></tr>
<tr class="memitem:af0c211f46df113d1df19e5ce426ba3e4"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#af0c211f46df113d1df19e5ce426ba3e4">getVocabularyClasses</a> ($record, &amp;$field)</td></tr>
<tr class="memdesc:af0c211f46df113d1df19e5ce426ba3e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the list of meta values that is associated with the valuelist for a particular field. The idea is that the options in a valuelist can be categorized into classes. This returns those classes.  <a href="#af0c211f46df113d1df19e5ce426ba3e4"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a5f7e3c4fbccd9f97d104911763d5ae0e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#a5f7e3c4fbccd9f97d104911763d5ae0e">$widgetHandlerPaths</a> = array()</td></tr>
<tr class="memitem:af29db5afc9f6ff2f649ffb364b51b6c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#af29db5afc9f6ff2f649ffb364b51b6c2">$widgetHandlerClasses</a> = array()</td></tr>
<tr class="memitem:adb835100710bce86ce99b3a53aaecdad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dataface___form_tool.html#adb835100710bce86ce99b3a53aaecdad">$widgetHandlers</a> = array()</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A class encapsulating the most common form building and processing functions in dataface. </p>
<dl class="section author"><dt>Author</dt><dd>Steve Hannah <a href="#" onclick="location.href='mai'+'lto:'+'sha'+'nn'+'ah@'+'sf'+'u.c'+'a'; return false;">shann<span style="display: none;">.nosp@m.</span>ah@s<span style="display: none;">.nosp@m.</span>fu.ca</a>  May 2007 </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00009">9</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>
</div><h2>Member Function Documentation</h2>
<a class="anchor" id="a6b8d3c89da9a982518dd9903dd227546"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; buildWidget </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$formFieldName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$new</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$permissions</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds a widget that can be added to a form. This will delegate to the <a class="el" href="interface_widget_handler.html#a04cd107b4dd1798351f535c97af61b0e" title="Creates a widget for a specific field on a form.">WidgetHandler::buildWidget()</a> method if defined for the field's widget type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">&amp;$record</td><td>The Dataface Record that this widget is to be editing. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">&amp;$field</td><td>The field definition. </td></tr>
    <tr><td class="paramtype"></td><td class="paramname">HTML_QuickForm</td><td>The form to which the widget will be added. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$formFieldName</td><td>The name of the field on the form. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HTML_QuickForm_element </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00437">437</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a2f16f53aaf593ead7c2f378ad86cbe7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clearSessionData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$session_key</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the session data for the tab current form. This does not clear the session data for the entire session, just this form. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$session_key</td><td>The session key that is being cleared. Null for current key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l01353">1353</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a71ebaf9986ecfb54823683b66bb585e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">createHTMLTabs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$selectedTab</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an data-structure representing the tabs that can be displayed for a record form. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">&amp;$record</td><td>The record that is being edited. </td></tr>
    <tr><td class="paramtype">HTML_QuickForm</td><td class="paramname">&amp;$form</td><td>The form that we are creating the tabs for. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$selectedTab</td><td>The name of the tab that is currently selected. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array Datastructure of the form: array( array( // Tab 1 'url' =&gt; ... // URL for the tab. 'css_class' =&gt; ... // The CSS class that should be used for the tab. ), array( ... // Tab 2 ), ... ); </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l01271">1271</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a88ff4125d48b19c1d23812c6f79992e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">createRecordButtons </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$currentTab</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and HTML_QuickForm group that can be added a a QuickForm object to serve as the submit buttons for edit (or new record) forms. By default this will create buttons for each tab, a back, next, and save buttons. </p>
<p>CSS is used to hide the tabs by default.</p>
<dl class="section return"><dt>Returns</dt><dd>array(HTML_QuickForm_element) An array of submit elements. </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l01394">1394</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4267cee4a869bfeed64a996e5f6a2c4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">createRecordForm </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$new</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tab</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$query</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds an HTML_QuickForm object to edit the given record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">&amp;$record</td><td>The record that is to be edited.</td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$tab</td><td>The name of the tab to display. In the case of multi tab forms, we may specify the tab which we wish to display. the tab may contain only a subset of the fields in the table, or it could be a 'partition' tab. A 'partition' tab. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l01020">1020</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3b54979c00abcd566eb689f8671edd9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">decorateRecordForm </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$new</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tab</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds the necessary extra fields to a form to equip it to be used to edit the given record. In particular, it adds the next, submit, etc.. buttons to the bottom of the form. It also adds a <b>keys</b> group to store/submit the keys of the record so that the correct record is processed when the form is submitted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">&amp;$record</td><td>The record that the form is to edit. </td></tr>
    <tr><td class="paramtype">HTML_QuickForm</td><td class="paramname">&amp;$form</td><td>The form that is to be decorated. </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$new</td><td>Whether we should treat this as a new record form. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$tab</td><td>The name of the tab that we are rendering (in the case of a multi-tab form). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l01056">1056</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="af6f4587a369389bc89299a8daf903181"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">display </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$template</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$singleField</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$useTabs</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Displays a form. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">HTML_QuickForm</td><td class="paramname">&amp;$form</td><td>The form to be displayed. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$template</td><td>An alternate template that can be used to display the form. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$singleField</td><td>Optional name of a single field to be rendered. if this is the case, then only one field from the form will be rendered and it will include a javascript onblur handler to auto save as soon as the user leaves the field.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00923">923</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a47f02f15b11d4491e056298910e4204a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static&amp; factory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a QuickForm object that can be used to generate elements safely. </p>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00626">626</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a7e358a52dc56ac3f85cb5e6bea9bf537"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; getElement </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets an element from a form. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">HTML_QuickForm</td><td class="paramname">&amp;$form</td><td>The form from which the element is being retrieved.</td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">&amp;$field</td><td>The field config array for the field in question.</td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$name</td><td>The name of the field.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>HTML_QuickForm_element </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00771">771</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a940c46dff92c1704a1d43d2926a72ba0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static&amp; getInstance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Singleton method for obtaining a reference to the <a class="el" href="class_dataface___form_tool.html" title="A class encapsulating the most common form building and processing functions in dataface.">Dataface_FormTool</a> object. </p>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00029">29</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab950c4bde89b53eb4523425284cb3855"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getSessionData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tab</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$session_key</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an associative array of the session data, either for the current tab or for all tabs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$tab</td><td>The name of the tab that we wish to get data for. If this is left null, it will return all tabs data. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$session_key</td><td>The session key. If this is left null, it will return data for the current session. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array Associative array of session data, as it was submitted in the forms. The data structure looks like: array( 'tabs' =&gt; array( 'tab1' =&gt; array( 'myfield1' =&gt; 'val1', ... etc ... ), 'tab2' =&gt; array( 'myfieldx' =&gt; 'valx' ... etc ... ), ... ) ) </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l01329">1329</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a71b7a74bd23b2c2be77aad5448cda40b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getSessionKey </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the key that is used to keep track of this particular session. This manifests itself as the $_GET['&ndash;form-session-key'] variable. If no session key is set, this will generate a new one and add a '&ndash;form-session-key' variable to the current $query. </p>
<dl class="section return"><dt>Returns</dt><dd>The current session key. </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l01293">1293</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a27fe5047cbebe8bbbc93379c7cde1387"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static&amp; getVocabulary </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$field</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a vocabulary that can be used in a particular field. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">&amp;$record</td><td>The record that is being edited.</td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">&amp;$field</td><td>The config array for the field.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array The associative array of options in the valuelist. </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00643">643</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="af0c211f46df113d1df19e5ce426ba3e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static getVocabularyClasses </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$field</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the list of meta values that is associated with the valuelist for a particular field. The idea is that the options in a valuelist can be categorized into classes. This returns those classes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">&amp;$record</td><td>The record that is being edited.</td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">&amp;$field</td><td>The config array for the field being edited.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array The associative array of classes [key =&gt; class] </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00658">658</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a87b5fa46e6da9512fa1dbcd67b37874c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">&amp; getWidgetHandler </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$widgetType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains a reference to the widget handler object for a particular type of widget. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$widgetType</td><td>The name of the type of widget to be handled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="interface_widget_handler.html" title="An interface for widget handlers. This interface is not real. It is only used for documentation purpo...">WidgetHandler</a> The widget handler. </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00589">589</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a65a9cba4c54dd29dbb6985dd631f622d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">groupFields </td>
          <td>(</td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Groups a collection of fields together by group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">&amp;$fields</td><td>associative array of field config arrays.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00852">852</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae2ca65505823b97357d6f16665bfbe83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">handleTabSubmit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tab</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles form submission for the given form. It handles multi-tab forms and even sends an HTTP redirect to the correct tab upon submission, if the action requested was to go to a different tab. </p>
<p>This uses the special &ndash;session:target:xyz POST variables to see which tab is being submitted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"></td><td class="paramname"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td>The record to be edited. </td></tr>
    <tr><td class="paramtype"></td><td class="paramname">HTML_QuickForm</td><td>The form that is submitted. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$tab</td><td>The name of the tab that has been submitted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l01168">1168</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a87346da9e3bced13bb48d5653cd06632"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pullField </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$formFieldName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$new</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pulls the data from the underlying $record object into the field. This method will obtain it's value from the following mechanisms in order: </p>
<ol type="1">
<li><a class="el" href="interface_widget_handler.html#a2f9de19bf352fac65758213a2b58e1ea" title="Pulls contents of a column in a Dataface_Record object and places the value into the specified field...">WidgetHandler::pullField()</a> if it exists (for the widget handler for the current widget type</li>
<li><a class="el" href="group__delegate_class.html#ga1ea2121a47ec1c824f87c469f138fe9c" title="Retrieves the value for a field from a record in a format that can be set in a form widget...">DelegateClass::fieldname__pullValue()</a> if it exists</li>
<li><a class="el" href="interface_widget_handler.html#a48a2e7855adc967a6acce00ff3decfef" title="Retrieves the contents of a column in a Dataface_Record object in a form that can be placed in the wi...">WidgetHandler::pullValue()</a> if it exists (for the widget handler for the current widget type).</li>
<li><a class="el" href="class_dataface___record.html#a8e0b54547cc3e8f1931e03363751d607" title="Gets the values of a field as a string.">Dataface_Record::getValueAsString()</a> it is exists</li>
</ol>
<p>The difference between this method and pullValue() is that this method will actually set the value into the widget, whereas pullValue() will only retrieve the value that should be set into the widget.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">&amp;$record</td><td>The <a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a> object from which the data is being pulled.</td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">&amp;$field</td><td>The field configuration array for the field being pulled.</td></tr>
    <tr><td class="paramtype">HTML_QuickForm</td><td class="paramname">&amp;$form</td><td>The form that is pulling the data.</td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$formFieldName</td><td>The name of the field within the form.</td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$new</td><td>Whether or not this is a new record form. In this case default values will be used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed <a class="el" href="class_p_e_a_r___error.html">PEAR_Error</a> if there is an error. or true on success.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="interface_widget_handler.html#a2f9de19bf352fac65758213a2b58e1ea" title="Pulls contents of a column in a Dataface_Record object and places the value into the specified field...">WidgetHandler::pullField()</a> </dd>
<dd>
pullValue() </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00075">75</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a22b8471dbfcd11943997e0caf7ba974a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pushField </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$formFieldName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$new</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pushes data from a form widget into a <a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a> object. This will try to delegate to the following mechanisms if found: </p>
<ol type="1">
<li><a class="el" href="interface_widget_handler.html#a1070f62a8fa3e3eec46b14b9b148126d" title="Pushes a value from a form widget into the underlying Dataface_Record object. This acts as the invers...">WidgetHandler::pushField()</a> if it exists for the current widget type.</li>
<li>WidgetHandler::pushValue() if it exists for the current widget type.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">&amp;$record</td><td>The record into which the data is being pushed. </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">&amp;$field</td><td>The field configuration array as loaded from the fields.ini file. </td></tr>
    <tr><td class="paramtype">HTML_QuickForm</td><td class="paramname">&amp;$form</td><td>The form from which the data is being taken. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$formFieldName</td><td>The name of the field in the form. </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$new</td><td>Whether this is a new record form. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed <a class="el" href="class_p_e_a_r___error.html">PEAR_Error</a> if there is an error. true on success.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="interface_widget_handler.html#a1070f62a8fa3e3eec46b14b9b148126d" title="Pushes a value from a form widget into the underlying Dataface_Record object. This acts as the invers...">WidgetHandler::pushField()</a> </dd>
<dd>
<a class="el" href="class_dataface___form_tool.html#a87346da9e3bced13bb48d5653cd06632" title="Pulls the data from the underlying $record object into the field. This method will obtain it&#39;s value ...">pullField()</a> </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00189">189</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab1003263d5eafd616a16bc1a5ca9262e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pushValue </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$metaValues</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extracts value from the form ready to be stored in the table. This doesn't actually push the data into the record, only obtains the data ready to be pushed. </p>
<p>This method will delegate to the WidgetHandler::pushValue() method of the field's widget if defined.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">&amp;$record</td><td>The record into which the data is meant to be pushed.</td></tr>
    <tr><td class="paramtype">HTML_QuickForm</td><td class="paramname">&amp;$form</td><td>The form from which the data is taken.</td></tr>
    <tr><td class="paramtype"></td><td class="paramname">HTML_QuickForm_element</td><td>The element (i.e. widget) from which the data is taken.</td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">&amp;$metaValues</td><td>An associative array of meta values in case there are other fields that should be filled in based on the data in this field.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed The value that is to be pushed in the record. </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00335">335</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="af6c31f1f026f1a025877fbfec4ba896a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">registerWidgetHandler </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$widgetType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$class</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a class to handle the pushing and pulling for a particular type of widget. This is the mechanism by which custom widgets can be created and registered. All that is required is to define a <a class="el" href="interface_widget_handler.html" title="An interface for widget handlers. This interface is not real. It is only used for documentation purpo...">WidgetHandler</a> and then register that handler with the form tool with this method. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$widgetType</td><td>The name of the widget type being registered. e.g. file, text, checkbox</td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>The path to the file containing the class.</td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$class</td><td>The name of the class.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">$formTool = <a class="code" href="class_dataface___form_tool.html#a940c46dff92c1704a1d43d2926a72ba0" title="Singleton method for obtaining a reference to the Dataface_FormTool object.">Dataface_FormTool::getInstance</a>();</div>
<div class="line">$formTool-&gt;registerWidgetHandler(<span class="stringliteral">&#39;colorpicker&#39;</span>, <span class="stringliteral">&#39;/path/to/my/colorpicker.php&#39;</span>, <span class="stringliteral">&#39;my_colorpicker_class&#39;</span>);</div>
</div><!-- fragment --> </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00565">565</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5759f6173ab42764776e059546d6d0a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">saveSession </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$new</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$session_key</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Now that we allow tabbed forms, we may be temporarily storing data in the session. This goes through the session data and saves it to the appropriate places. </p>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l01448">1448</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a9f87159e7f7f15372e914b0b835098a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">storeSessionData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$session_key</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$record_id</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores data from a form session so that it can be retrieved in the next page or the next time a tab is loaded for this form. </p>
<p>If we are using a multi-tab implementation, then we need to store the data for each tab in sessions until we are ready to save the entire record. </p>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l01367">1367</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a688c626b18be5cb99a75ed35df471c99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unregisterWidgetHandler </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$widgetType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregisters a particular widget handler. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_dataface___form_tool.html#af6c31f1f026f1a025877fbfec4ba896a" title="Registers a class to handle the pushing and pulling for a particular type of widget. This is the mechanism by which custom widgets can be created and registered. All that is required is to define a WidgetHandler and then register that handler with the form tool with this method.">registerWidgetHandler()</a> </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00575">575</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="aba01026fe1f6d16599a2acf38d9777ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">validateRecordForm </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;&#160;</td>
          <td class="paramname"><em>$form</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$new</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$tab</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validates a form to see if it is ready to be processed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">&amp;$record</td><td>The record that is being edited with this form. </td></tr>
    <tr><td class="paramtype"></td><td class="paramname">HTML_QuickForm</td><td>The form that is to be validated. </td></tr>
    <tr><td class="paramtype">boolean</td><td class="paramname">$new</td><td>Whether this form is creating a new record. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$tab</td><td>The name of the tab that is being processed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean True if the form validates. </dd></dl>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l01111">1111</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<h2>Field Documentation</h2>
<a class="anchor" id="af29db5afc9f6ff2f649ffb364b51b6c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$widgetHandlerClasses = array()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The classes for handling widgets. </p>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00018">18</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5f7e3c4fbccd9f97d104911763d5ae0e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$widgetHandlerPaths = array()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The paths to the widget handler files. </p>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00014">14</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<a class="anchor" id="adb835100710bce86ce99b3a53aaecdad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$widgetHandlers = array()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cache for instantiated widget handler objects. </p>

<p>Definition at line <a class="el" href="_form_tool_8php_source.html#l00023">23</a> of file <a class="el" href="_form_tool_8php_source.html">FormTool.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Dataface/<a class="el" href="_form_tool_8php_source.html">FormTool.php</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2013 09:40:35 for Xataface by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
