<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Xataface: Adding Custom CSS Files</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xataface-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Xataface
   &#160;<span id="projectnumber">2.0alpha2</span>
   </div>
   <div id="projectbrief">Xataface Application Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Adding Custom CSS Files </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>Return to <a class="el" href="module_developer_guide.html">Module Developer's Guide</a></li>
<li>Previous <a class="el" href="module_developer_guide_javascript.html">Adding Custom Javascripts</a></li>
<li>Next <a class="el" href="module_developer_guide_widget.html">Creating Custom Widgets</a></li>
</ul>
<p>There are two ways to include custom CSS files with your module and its actions:</p>
<ol type="1">
<li>Using the <a class="el" href="class_dataface___application.html#a8922a305e2a3e1cc73a2505046c375b1" title="Adds some content meant to be inserted in the head of the application.">Dataface_Application::addHeadContent()</a> method</li>
<li>Using the <a class="el" href="class_dataface___c_s_s_tool.html">Dataface_CSSTool</a> class</li>
</ol>
<dl class="section user"><dt>Reasons to use Dataface_Application::addHeadContent()</dt><dd></dd></dl>
<p>Using the <a class="el" href="class_dataface___application.html#a8922a305e2a3e1cc73a2505046c375b1" title="Adds some content meant to be inserted in the head of the application.">Dataface_Application::addHeadContent()</a> has the benefit of loading your CSS file at the beginning of the page load rather than at the end of it. Therefore your styles will be picked up immediately.</p>
<dl class="section user"><dt>Reasons to use Dataface_CSSTool</dt><dd></dd></dl>
<p>The <a class="el" href="class_dataface___c_s_s_tool.html">Dataface_CSSTool</a> is closely integrated with <a class="el" href="class_dataface___javascript_tool.html" title="A Class that manages, builds, and maintains dependencies of javacripts.">Dataface_JavascriptTool</a> so if your CSS file is related to a javascript file and needs to be bundled with it, then it may be easier to reference the file using the <code>require-css</code> declaration directly from a javascript file (and this will use the <a class="el" href="class_dataface___c_s_s_tool.html">Dataface_CSSTool</a> class).</p>
<p>Another benefit of using the <a class="el" href="class_dataface___c_s_s_tool.html">Dataface_CSSTool</a> is that it allows you to bundle multiple small CSS files together at run-time in a network-friendly compressed format. This might allow you to organize your CSS files more logically and make it easier to maintain them moving forward (because it decouples the production format from the development format).</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_dataface___c_s_s_tool.html">Dataface_CSSTool</a> for more discusson on the merits of the two approaches.</dd></dl>
<h1><a class="anchor" id="module_developer_guide_css_goal"></a>
Goal of this Tutorial</h1>
<p>For this tutorial we are going to use the <a class="el" href="class_dataface___c_s_s_tool.html">Dataface_CSSTool</a> to include a style-sheet with our <code>hello_world</code> action. We are just going to create some simple styles to demonstrate the steps involved in loading a custom CSS file.</p>
<dl class="section user"><dt>Step 1 Create a css directory</dt><dd></dd></dl>
<p>We begin by creating a <code>css</code> directory inside our module's directory. It will be located at: </p>
<div class="fragment"><div class="line">myapp/modules/hello_world/css</div>
</div><!-- fragment --><p>Further we're going to add a directory structure underneath this <code>css</code> directory as a namespacing mechanism (so that we know that our CSS paths as referenced by the CSS tool will be unique. We'll use the same convention as we used for our javascript files and templates:</p>
<div class="fragment"><div class="line">xataface/modules/hello_world</div>
</div><!-- fragment --><dl class="section user"><dt>Step 2 Create A CSS File</dt><dd></dd></dl>
<p>Now that we have our directory structure let's create a CSS file at </p>
<div class="fragment"><div class="line">xataface/modules/hello_world/hello_world.css</div>
</div><!-- fragment --><p>With the following contents: </p>
<div class="fragment"><div class="line"><span class="preprocessor">#user-name {</span></div>
<div class="line"><span class="preprocessor"></span>        color: red;</div>
<div class="line">}</div>
</div><!-- fragment --><p>So all we're doing here is changing the color of the "world" part of "Hello World" so that it is red.</p>
<dl class="section user"><dt>Step 3 Register the <code>css</code> Directory with the CSS Tool</dt><dd></dd></dl>
<p>In our <code>hello_world</code> action we now need to register our <code>css</code> directory. We do this with the following code: </p>
<div class="fragment"><div class="line">$cssTool = <a class="code" href="class_dataface___c_s_s_tool.html#ac93fbec81f07e5d15f80db907e63dc10">Dataface_CSSTool::getInstance</a>();</div>
<div class="line">$cssTool-&gt;addPath(</div>
<div class="line">        dirname(__FILE__).<span class="stringliteral">&#39;/../css&#39;</span>, </div>
<div class="line">        DATAFACE_SITE_URL.<span class="stringliteral">&#39;/modules/hello_world/css&#39;</span></div>
<div class="line">);</div>
</div><!-- fragment --><p>The <a class="el" href="class_dataface___c_s_s_tool.html#a28f130070d771ecaccdbfcbd846db44e">Dataface_CSSTool::addPath()</a> method takes 2 parameters:</p>
<ul>
<li>The path to the <code>css</code> directory</li>
<li>The URL to the <code>css</code> directory</li>
</ul>
<dl class="section user"><dt>Step 4 Import the CSS File</dt><dd></dd></dl>
<p>Now that we have added the <code>css</code> directory to the paths in the CSS Tool, we just need to import the CSS File. We will do this using the <code>require-css</code> javascript directive at the beginning of the <code>hello_world.js</code> javascript file: </p>
<div class="fragment"><div class="line"><span class="comment">//require-css &lt;xataface/modules/hello_world/hello_world.css&gt;</span></div>
</div><!-- fragment --><p>Our <code>hello_world</code> action now looks like:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>actions_hello_world {</div>
<div class="line"></div>
<div class="line">        <span class="keyword">function</span> handle($params){</div>
<div class="line">        </div>
<div class="line">                $javascriptTool = <a class="code" href="class_dataface___javascript_tool.html#a8bc471b19f24aea65a4b5c1466c81937">Dataface_JavascriptTool::getInstance</a>();</div>
<div class="line">                $javascriptTool-&gt;addPath(</div>
<div class="line">                        dirname(__FILE__).<span class="stringliteral">&#39;/../js&#39;</span>,  <span class="comment">// The Path to the js dir</span></div>
<div class="line">                        DATAFACE_SITE_URL.<span class="stringliteral">&#39;/modules/hello_world/js&#39;</span>   <span class="comment">// The URL to the js dir</span></div>
<div class="line">                );</div>
<div class="line">                $cssTool = <a class="code" href="class_dataface___c_s_s_tool.html#ac93fbec81f07e5d15f80db907e63dc10">Dataface_CSSTool::getInstance</a>();</div>
<div class="line">                $cssTool-&gt;addPath(</div>
<div class="line">                        dirname(__FILE__).<span class="stringliteral">&#39;/../css&#39;</span>, </div>
<div class="line">                        DATAFACE_SITE_URL.<span class="stringliteral">&#39;/modules/hello_world/css&#39;</span></div>
<div class="line">                );</div>
<div class="line">                </div>
<div class="line">                $javascriptTool-&gt;import(<span class="stringliteral">&#39;xataface/modules/hello_world/hello_world.js&#39;</span>);</div>
<div class="line">                </div>
<div class="line">                </div>
<div class="line">                </div>
<div class="line">                </div>
<div class="line">                <span class="comment">// Rest of the file is unchanged</span></div>
<div class="line">                df_register_skin(<span class="stringliteral">&#39;hello world skin&#39;</span>, dirname(__FILE__).<span class="stringliteral">&#39;/../templates&#39;</span>);</div>
<div class="line">                df_display(</div>
<div class="line">                    array(),</div>
<div class="line">                    <span class="stringliteral">&#39;xataface/modules/hello_world/hello_world_template.html&#39;</span></div>
<div class="line">                );</div>
<div class="line">        }</div>
<div class="line">}</div>
</div><!-- fragment --><p>And our <code>hello_world.js</code> script now looks like: </p>
<div class="fragment"><div class="line"><span class="comment">//require &lt;jquery.packed.js&gt;</span></div>
<div class="line"><span class="comment">//require-css &lt;xataface/modules/hello_world/hello_world.css&gt;</span></div>
<div class="line">(<span class="keyword">function</span>(){</div>
<div class="line">        </div>
<div class="line">        var $ = jQuery;</div>
<div class="line">        $(document).ready(<span class="keyword">function</span>(){</div>
<div class="line">        </div>
<div class="line">                $(<span class="stringliteral">&#39;#update-user-name-btn&#39;</span>).click(<span class="keyword">function</span>(){</div>
<div class="line">                    <span class="comment">// On click handler for the button with id update-user-name-btn</span></div>
<div class="line">                    </div>
<div class="line">                    <span class="comment">// Take the value of the user-name-field and place it in the </span></div>
<div class="line">                    <span class="comment">// user-name span:</span></div>
<div class="line">                    $(<span class="stringliteral">&#39;#user-name&#39;</span>).text($(<span class="stringliteral">&#39;#user-name-field&#39;</span>).val());</div>
<div class="line">                        </div>
<div class="line">                });</div>
<div class="line">        });</div>
<div class="line"></div>
<div class="line">})();</div>
</div><!-- fragment --><dl class="section user"><dt>Step 5 Try our Application Again</dt><dd></dd></dl>
<p>Point your web browser to the hello_world action again and it should look like: </p>
<div class="image">
<img src="http://media.weblite.ca/files/photos/Screen_shot_2011-11-28_at_3.53.02_PM.png?max_width=640" />
</div>
<p>Notice that the word "world" is now in red.</p>
<ul>
<li>Return to <a class="el" href="module_developer_guide.html">Module Developer's Guide</a></li>
<li>Previous <a class="el" href="module_developer_guide_javascript.html">Adding Custom Javascripts</a></li>
<li>Next <a class="el" href="module_developer_guide_widget.html">Creating Custom Widgets</a> </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2013 09:40:35 for Xataface by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
