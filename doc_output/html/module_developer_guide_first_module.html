<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Xataface: Creating Your First Module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xataface-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Xataface
   &#160;<span id="projectnumber">2.0alpha2</span>
   </div>
   <div id="projectbrief">Xataface Application Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Creating Your First Module </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li>Return to <a class="el" href="module_developer_guide.html">Module Developer's Guide</a></li>
<li>Next: <a class="el" href="module_developer_guide_actions.html">Creating a Module With an Action</a></li>
</ul>
<p>In this tutorial we will create a simple module that merely prints "Hello World" at the top of all pages in the site.</p>
<dl class="section user"><dt>Step 1 Create An Application</dt><dd></dd></dl>
<p>Creating a module is boring if you don't first have an application to test it out in. So before moving onto the rest of this tutorial, make sure that you have an application available to enable your module in.</p>
<p>If you don't know how to create an application, please refer to the <a href="http://xataface.com/documentation/tutorial/getting_started">Xataface Getting Started</a> tutorial.</p>
<dl class="section attention"><dt>Attention</dt><dd>For the remainder of this tutorial we will assume that we have created an application and it is located at <div class="fragment"><div class="line">/var/www/myapp/</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Step 2 Create A "modules" Directory</dt><dd></dd></dl>
<p>If your application doesn't already have a <code>modules</code> directory, create one now. i.e. Create the directory: </p>
<div class="fragment"><div class="line">/var/www/myapp/modules/</div>
</div><!-- fragment --><dl class="section attention"><dt>Attention</dt><dd>This assumes that your application is located at /var/www/myapp/ . Change the path accordingly for your application's installation location.</dd></dl>
<dl class="section user"><dt>Step 3 Create a Directory For Your Module</dt><dd></dd></dl>
<p>We're going to call our module "Hello World" so we'll name the directory <code>hello_world</code>. The directory is located at: </p>
<div class="fragment"><div class="line">/var/www/myapp/modules/hello_world</div>
</div><!-- fragment --><dl class="section user"><dt>Step 4 Create Module Class</dt><dd></dd></dl>
<p>All modules need to have at least a base class that serves as an entry point for the module. This class should be located in a file named <code>modulename%</code>.php and the class name should be <code>modules_modulename%</code> . E.g. The file should be located at <code>/var/www/myapp/modules/hello_world/hello_world</code>.php and the class file should contain the following contents: </p>
<div class="fragment"><div class="line"><span class="keyword">class </span>modules_hello_world {</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section user"><dt>Step 5 Implement the <code>before_header</code> Block</dt><dd></dd></dl>
<p>We want to display "Hello World" at the head of every page in the site so we'll implement the <code>before_header</code> block in our template. Modules allow you to implement blocks and slots the same way as you can implement them in table Delegate classes and Application delegate classes.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>modules_hello_world {</div>
<div class="line">    <span class="keyword">function</span> block__before_header(){</div>
<div class="line">        echo <span class="stringliteral">&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section see"><dt>See Also</dt><dd>ModuleClass::block__blockname() </dd>
<dd>
<a class="el" href="group__delegate_class.html#gabfb58d16e747b6288f00c1db35d41d20" title="Fills a block or slot in a template when operating in the context of the delegate class&#39;s table...">DelegateClass::block__blockname()</a> </dd>
<dd>
<a class="el" href="interface_application_delegate_class.html#a02e759df91113d14d1b5fc26cf60d28d" title="Inserts content into a particular block or slot of a template in Xataface.">ApplicationDelegateClass::block__blockname()</a></dd></dl>
<dl class="section user"><dt>Step 6 Activate the Module</dt><dd></dd></dl>
<p>At this point, the module is inactive because we haven't told our application to use the module. To activate the module all we need to do is add a <code></code>[_modules] section to the application's conf.ini file (if it doesn't yet exist), and add the following line:</p>
<div class="fragment"><div class="line">modules_hello_world=modules/hello_world/hello_world.php</div>
</div><!-- fragment --><p>(The full modules section would look like: </p>
<div class="fragment"><div class="line">[_modules]</div>
<div class="line">    modules_hello_world=modules/hello_world/hello_world.php</div>
</div><!-- fragment --><p> )</p>
<dl class="section user"><dt>Step 7 Load the Application in the Browser</dt><dd></dd></dl>
<p>Now point your web browser to your application and notice that "Hello world" is displayed in large print at the beginning of each page.</p>
<div class="image">
<img src="http://media.weblite.ca/files/photos/Screen_shot_2011-11-28_at_1.01.49_PM.png?max_width=640" />
</div>
<h1><a class="anchor" id="module_developer_guide_first_module_finding_slots"></a>
Help with Slots</h1>
<p>This tutorial leverages Xataface's built-in block/slot system that allows use to embed content into various locations of the templates. You can always get a full list of the blocks and slots in a given template by turning on <code>debug</code> in your application. The interface will then be rendered with the available blocks and slots rendered.</p>
<p>For more information about blocks and slots see <a href="http://xataface.com/wiki/block__blockname">The wiki page for block__blockname</a> or one of the following additional tutorial links dealing with Xataface user interface customization:</p>
<ul>
<li><a href="http://xataface.com/documentation/tutorial/getting_started/changing-look-and-feel">Changing the Xataface Look and Feel</a></li>
<li><a href="http://www.xataface.com/documentation/tutorial/customizing-the-dataface-look-and-feel">Customizing the Xataface Look and Feel</a></li>
</ul>
<h1><a class="anchor" id="module_developer_guide_first_module_troubleshooting"></a>
Troubleshooting</h1>
<dl class="section user"><dt>I Don't See Hello World</dt><dd></dd></dl>
<p>If you don't see "Hello World" at the top of each page and there are no error messages, there are a few possible problems:</p>
<ol type="1">
<li>Your block function is not named correctly. Ensure that your function is named exactly <code>block__before_header</code> . Note the two underscores between <code>block</code> and <code>before_header</code>.</li>
<li>Your <code></code>[_modules] section is named incorrectly.</li>
<li>You have two <code></code>[_modules] sections defined in your conf.ini file and one is overriding the other. You can have at most one <code></code>[_modules] section.</li>
</ol>
<h1><a class="anchor" id="module_developer_guide_first_module_examples"></a>
Some Example Module Classes</h1>
<p>Since every Xataface module must have a module class, there are plenty of examples of the structure of such classes from existing modules. The following are links to documentation pages for some module classes already in existence. Some use more features than others. Later tutorials will cover all of the possibilities of this class in more detail:</p>
<ul>
<li><a href="http://xataface.com/dox/modules/ckeditor/latest/classmodules__ckeditor.html">The CKeditor Module</a></li>
<li><a href="http://xataface.com/dox/modules/htmlreports/latest/htmlreports_8php_source.html">html_reports module</a>.</li>
<li><a href="http://xataface.com/dox/modules/switch_user/latest/classmodules__switch__user.html">Switch User Module</a></li>
</ul>
<ul>
<li>Return to <a class="el" href="module_developer_guide.html">Module Developer's Guide</a></li>
<li>Next: <a class="el" href="module_developer_guide_actions.html">Creating a Module With an Action</a> </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2013 09:40:35 for Xataface by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
