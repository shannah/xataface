<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Xataface: ApplicationDelegateClass Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xataface-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Xataface
   &#160;<span id="projectnumber">2.0alpha2</span>
   </div>
   <div id="projectbrief">Xataface Application Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ApplicationDelegateClass Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An interface to document the methods that can be implemented in the Application delegate class. This is not a <em>real</em> interface. It is merely used for documentation purposes.  
 <a href="interface_application_delegate_class.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Permissions</div></td></tr>
<tr class="memitem:aac1919008579685f034fc99be68a564c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#aac1919008579685f034fc99be68a564c">getPermissions</a> (<a class="el" href="class_dataface___record.html">Dataface_Record</a> $record)</td></tr>
<tr class="memdesc:aac1919008579685f034fc99be68a564c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns associative array of permissions that should be granted to the current user on the specified record.  <a href="#aac1919008579685f034fc99be68a564c"></a><br/></td></tr>
<tr class="memitem:a28e7d8521c6d7dc6254e4101e5e170a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#a28e7d8521c6d7dc6254e4101e5e170a8">getRoles</a> (<a class="el" href="class_dataface___record.html">Dataface_Record</a> $record)</td></tr>
<tr class="memdesc:a28e7d8521c6d7dc6254e4101e5e170a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns one or more roles that are to be granted to the current user for the specified record.  <a href="#a28e7d8521c6d7dc6254e4101e5e170a8"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Triggers</div></td></tr>
<tr class="memitem:a86e150a3f3ae05c6b14dec754fff5802"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#a86e150a3f3ae05c6b14dec754fff5802">after_action_activate</a> ()</td></tr>
<tr class="memdesc:a86e150a3f3ae05c6b14dec754fff5802"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger executed after a user account is activated.  <a href="#a86e150a3f3ae05c6b14dec754fff5802"></a><br/></td></tr>
<tr class="memitem:a58965d15f537e6666ae15179018d0c20"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#a58965d15f537e6666ae15179018d0c20">after_action_login</a> ()</td></tr>
<tr class="memdesc:a58965d15f537e6666ae15179018d0c20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger executed after a user logs in.  <a href="#a58965d15f537e6666ae15179018d0c20"></a><br/></td></tr>
<tr class="memitem:aa464ba05624a2515d5adbc600d8ae870"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#aa464ba05624a2515d5adbc600d8ae870">after_action_logout</a> ()</td></tr>
<tr class="memdesc:aa464ba05624a2515d5adbc600d8ae870"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger executed after a user logs out.  <a href="#aa464ba05624a2515d5adbc600d8ae870"></a><br/></td></tr>
<tr class="memitem:af0ec5a2c4a043a0603f01facb451fbe4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#af0ec5a2c4a043a0603f01facb451fbe4">after_action_edit</a> ()</td></tr>
<tr class="memdesc:af0ec5a2c4a043a0603f01facb451fbe4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger executed after succesfully editing a record. This is called after the <code>edit</code> action is complete in constrast to the afterSave() method that is called after a record is saved. The key difference is that afterSave() may be called many times per request (as many records may be changed and saved in a request). <a class="el" href="interface_application_delegate_class.html#af0ec5a2c4a043a0603f01facb451fbe4" title="Trigger executed after succesfully editing a record. This is called after the edit action is complete...">after_action_edit()</a>, on the other hand is only called once after the edit form has been successfully saved.  <a href="#af0ec5a2c4a043a0603f01facb451fbe4"></a><br/></td></tr>
<tr class="memitem:a74c3586809f921cda6fc58265debaa9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#a74c3586809f921cda6fc58265debaa9d">after_action_new</a> ()</td></tr>
<tr class="memdesc:a74c3586809f921cda6fc58265debaa9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger executed after successfully inserting a new record through the <code>new</code> action. This is called after the <code>new</code> action is complete in contrast to the afterInsert() method that is called after a record is inserted. The key difference is that afterInsert() may be called multiple times per request, since many records may be inserted in a single request. The <a class="el" href="interface_application_delegate_class.html#a74c3586809f921cda6fc58265debaa9d" title="Trigger executed after successfully inserting a new record through the new action. This is called after the new action is complete in contrast to the afterInsert() method that is called after a record is inserted. The key difference is that afterInsert() may be called multiple times per request, since many records may be inserted in a single request. The after_action_new() trigger, on the other hand, is only called once after the new form has been successfully saved.">after_action_new()</a> trigger, on the other hand, is only called once after the new form has been successfully saved.  <a href="#a74c3586809f921cda6fc58265debaa9d"></a><br/></td></tr>
<tr class="memitem:aff12cada76ef7abac4a90e6c1d5aefbb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#aff12cada76ef7abac4a90e6c1d5aefbb">after_action_delete</a> ()</td></tr>
<tr class="memdesc:aff12cada76ef7abac4a90e6c1d5aefbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger executed after successfully deleting a record through the UI.  <a href="#aff12cada76ef7abac4a90e6c1d5aefbb"></a><br/></td></tr>
<tr class="memitem:a81b1d4efe45504618d0b054d30344f72"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#a81b1d4efe45504618d0b054d30344f72">before_authenticate</a> ()</td></tr>
<tr class="memdesc:a81b1d4efe45504618d0b054d30344f72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger executed before the authentication step occurs in each request. This method may be handy for changing the authentication type at the last minute depending on various factors.  <a href="#a81b1d4efe45504618d0b054d30344f72"></a><br/></td></tr>
<tr class="memitem:a604857382e4d777c6ee9998b4fa93281"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#a604857382e4d777c6ee9998b4fa93281">beforeHandleRequest</a> ()</td></tr>
<tr class="memdesc:a604857382e4d777c6ee9998b4fa93281"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trigger executed before each request (but after the autehntication step). It is often useful to implement this method to provide desirable default behavior for a request.  <a href="#a604857382e4d777c6ee9998b4fa93281"></a><br/></td></tr>
<tr class="memitem:a1e201c0957bc704471a78cd492174871"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#a1e201c0957bc704471a78cd492174871">startSession</a> ()</td></tr>
<tr class="memdesc:a1e201c0957bc704471a78cd492174871"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overrides the code to start sessions. If this is implemented it will override how xataface starts sessions. This may be useful if you have your own custom session handler.  <a href="#a1e201c0957bc704471a78cd492174871"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Preferences</div></td></tr>
<tr class="memitem:ab726d3878e4501d3be6a4894c59b2bfc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#ab726d3878e4501d3be6a4894c59b2bfc">getPreferences</a> ()</td></tr>
<tr class="memdesc:ab726d3878e4501d3be6a4894c59b2bfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the preferences to assign the current user. This is run after the authentication step on each request (but before the <a class="el" href="interface_application_delegate_class.html#a604857382e4d777c6ee9998b4fa93281" title="Trigger executed before each request (but after the autehntication step). It is often useful to imple...">beforeHandleRequest()</a> method).  <a href="#ab726d3878e4501d3be6a4894c59b2bfc"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Registration</div></td></tr>
<tr class="memitem:ab7e1f6a70736970591876bb960423b63"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#ab7e1f6a70736970591876bb960423b63">beforeRegister</a> (<a class="el" href="class_dataface___record.html">Dataface_Record</a> $user)</td></tr>
<tr class="memdesc:ab7e1f6a70736970591876bb960423b63"><td class="mdescLeft">&#160;</td><td class="mdescRight">A trigger executed before the registration form is saved. This can be used to perform some custom actions like emailing the administrator.  <a href="#ab7e1f6a70736970591876bb960423b63"></a><br/></td></tr>
<tr class="memitem:a11f7df950ab04f93da5a4a96478e2206"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#a11f7df950ab04f93da5a4a96478e2206">afterRegister</a> (<a class="el" href="class_dataface___record.html">Dataface_Record</a> $user)</td></tr>
<tr class="memdesc:a11f7df950ab04f93da5a4a96478e2206"><td class="mdescLeft">&#160;</td><td class="mdescRight">A trigger that is executed after the registration form is saved. This can be used to perform some custom actions like emailing the administrator.  <a href="#a11f7df950ab04f93da5a4a96478e2206"></a><br/></td></tr>
<tr class="memitem:ad67cc2eef6182bafc3a0c759dd912015"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#ad67cc2eef6182bafc3a0c759dd912015">validateRegistrationForm</a> (array $values)</td></tr>
<tr class="memdesc:ad67cc2eef6182bafc3a0c759dd912015"><td class="mdescLeft">&#160;</td><td class="mdescRight">A hook that validates the input into the user registration form to make sure that the input is valid.  <a href="#ad67cc2eef6182bafc3a0c759dd912015"></a><br/></td></tr>
<tr class="memitem:a6c90dace5f98d303228bb7270f7f98d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#a6c90dace5f98d303228bb7270f7f98d2">sendRegistrationActivationEmail</a> (<a class="el" href="class_dataface___record.html">Dataface_Record</a> $user, $activationURL)</td></tr>
<tr class="memdesc:a6c90dace5f98d303228bb7270f7f98d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A hook that can be implemented to override the sending of an activation email to the user.  <a href="#a6c90dace5f98d303228bb7270f7f98d2"></a><br/></td></tr>
<tr class="memitem:abc8bc5f72006c1a88d2b7e4e8b2bba0c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#abc8bc5f72006c1a88d2b7e4e8b2bba0c">getRegistrationActivationEmailInfo</a> (<a class="el" href="class_dataface___record.html">Dataface_Record</a> $user, $activationURL)</td></tr>
<tr class="memdesc:abc8bc5f72006c1a88d2b7e4e8b2bba0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A hook that can be implemented to override the default information that is used to send the registration activation email (the email that the user receives when they register).  <a href="#abc8bc5f72006c1a88d2b7e4e8b2bba0c"></a><br/></td></tr>
<tr class="memitem:ab45e2d46f790145017efeb067154f3f7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#ab45e2d46f790145017efeb067154f3f7">getRegistrationActivationEmailSubject</a> (<a class="el" href="class_dataface___record.html">Dataface_Record</a> $user, $activationURL)</td></tr>
<tr class="memdesc:ab45e2d46f790145017efeb067154f3f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A hook that can be implemented to override the default registration activation email subject line (the email that the user receives when they register).  <a href="#ab45e2d46f790145017efeb067154f3f7"></a><br/></td></tr>
<tr class="memitem:ac64524edf2237ca2ff42315283b20688"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#ac64524edf2237ca2ff42315283b20688">getRegistrationActivationEmailMessage</a> (<a class="el" href="class_dataface___record.html">Dataface_Record</a> $user, $activationURL)</td></tr>
<tr class="memdesc:ac64524edf2237ca2ff42315283b20688"><td class="mdescLeft">&#160;</td><td class="mdescRight">A hook that can be implemented to override the default registration activation email message body (the email that the user receives when they register).  <a href="#ac64524edf2237ca2ff42315283b20688"></a><br/></td></tr>
<tr class="memitem:abb50b1364957b25fcb924cb95ba0ed71"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#abb50b1364957b25fcb924cb95ba0ed71">getRegistrationActivationEmailParameters</a> (<a class="el" href="class_dataface___record.html">Dataface_Record</a> $user, $activationURL)</td></tr>
<tr class="memdesc:abb50b1364957b25fcb924cb95ba0ed71"><td class="mdescLeft">&#160;</td><td class="mdescRight">a hooke that can be implemented to override the default registration activation email parameters (the email the user receives when they register).  <a href="#abb50b1364957b25fcb924cb95ba0ed71"></a><br/></td></tr>
<tr class="memitem:ac0b75ecf5a351083fa9434cf3f70c871"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#ac0b75ecf5a351083fa9434cf3f70c871">getRegistrationActivationEmailHeaders</a> (<a class="el" href="class_dataface___record.html">Dataface_Record</a> $user, $activationURL)</td></tr>
<tr class="memdesc:ac0b75ecf5a351083fa9434cf3f70c871"><td class="mdescLeft">&#160;</td><td class="mdescRight">A hook that can be implemented to override the default registration activation email headers.  <a href="#ac0b75ecf5a351083fa9434cf3f70c871"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Forgot Password</div></td></tr>
<tr class="memitem:acb16593b459e49320ad418497a0f27b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#acb16593b459e49320ad418497a0f27b4">getPasswordChangedEmailInfo</a> (<a class="el" href="class_dataface___record.html">Dataface_Record</a> $user, $password)</td></tr>
<tr class="memdesc:acb16593b459e49320ad418497a0f27b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optional method to define the settings for the email that is sent to the user upon successful resetting of their password using the password reset function.  <a href="#acb16593b459e49320ad418497a0f27b4"></a><br/></td></tr>
<tr class="memitem:a75824b49db118b4c5ee6c9eb89fdc734"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#a75824b49db118b4c5ee6c9eb89fdc734">getResetPasswordEmailInfo</a> (<a class="el" href="class_dataface___record.html">Dataface_Record</a> $user, $reset_url)</td></tr>
<tr class="memdesc:a75824b49db118b4c5ee6c9eb89fdc734"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optional method to define the settings for the email that is sent to the user when they request to reset their password.  <a href="#a75824b49db118b4c5ee6c9eb89fdc734"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">RSS Feed Customization</div></td></tr>
<tr class="memitem:a332ddc8d8ce3876e6f464661f4009bdd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#a332ddc8d8ce3876e6f464661f4009bdd">getFeed</a> (array $query)</td></tr>
<tr class="memdesc:a332ddc8d8ce3876e6f464661f4009bdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an associative array of parameters to configure the RSS feed for a particular table .  <a href="#a332ddc8d8ce3876e6f464661f4009bdd"></a><br/></td></tr>
<tr class="memitem:a166efd68555c1183f7c35329dff0b8d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#a166efd68555c1183f7c35329dff0b8d5">getRelatedFeed</a> (<a class="el" href="class_dataface___record.html">Dataface_Record</a> $record, $relationship)</td></tr>
<tr class="memdesc:a166efd68555c1183f7c35329dff0b8d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an associative array of parameters to configure the RSS feed for the related records of a particular parent record.  <a href="#a166efd68555c1183f7c35329dff0b8d5"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Template Customization</div></td></tr>
<tr class="memitem:a02e759df91113d14d1b5fc26cf60d28d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#a02e759df91113d14d1b5fc26cf60d28d">block__blockname</a> ()</td></tr>
<tr class="memdesc:a02e759df91113d14d1b5fc26cf60d28d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts content into a particular block or slot of a template in Xataface.  <a href="#a02e759df91113d14d1b5fc26cf60d28d"></a><br/></td></tr>
<tr class="memitem:ae47454c160a4a10203658bd17acddfaf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#ae47454c160a4a10203658bd17acddfaf">getNavItem</a> ($key, $label)</td></tr>
<tr class="memdesc:ae47454c160a4a10203658bd17acddfaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="interface_application_delegate_class.html#ae47454c160a4a10203658bd17acddfaf" title="The getNavItem() method of the application delegate class can be used to override the items that appe...">getNavItem()</a> method of the application delegate class can be used to override the items that appear in the navigation menu (i.e. the menu that allows users to select the table via either tabs along the top or items along the side). It should return an associative array with characteristics of the navigation item including the href (i.e. link), label, and selected status.  <a href="#ae47454c160a4a10203658bd17acddfaf"></a><br/></td></tr>
<tr class="memitem:a556f012b0c79aa3bdcb34a604d2eba5b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#a556f012b0c79aa3bdcb34a604d2eba5b">navItemIsSelected</a> ($key)</td></tr>
<tr class="memitem:a2038618d1e557be90752a76a9eca167c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#a2038618d1e557be90752a76a9eca167c">getTemplateContext</a> ()</td></tr>
<tr class="memitem:adfe361752713868652012ed9734fbc8b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#adfe361752713868652012ed9734fbc8b">getSearchTarget</a> (array $action)</td></tr>
<tr class="memdesc:adfe361752713868652012ed9734fbc8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of an action that should be used as the target action of a search performed from the current context. In past releases searches would always go to the list action. This gives you the ability to override this behavior with your own custom action depending on the circumstances.  <a href="#adfe361752713868652012ed9734fbc8b"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Valuelist Customization</div></td></tr>
<tr class="memitem:aed70627bc9fe054ddbc00d81661c86e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_application_delegate_class.html#aed70627bc9fe054ddbc00d81661c86e7">valuelist__valuelistname</a> ()</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>An interface to document the methods that can be implemented in the Application delegate class. This is not a <em>real</em> interface. It is merely used for documentation purposes. </p>
<h1><a class="anchor" id="application_delegate_class_synopsis"></a>
Synopsis</h1>
<p>Every Xataface project may define an Application Delegate class that helps to customize the behavior of the app. It may be used to define permissions that are granted to users (e.g. <a class="el" href="interface_application_delegate_class.html#aac1919008579685f034fc99be68a564c" title="Returns associative array of permissions that should be granted to the current user on the specified ...">getPermissions()</a>), or to customize parts of the interface (e.g. <a class="el" href="interface_application_delegate_class.html#a02e759df91113d14d1b5fc26cf60d28d" title="Inserts content into a particular block or slot of a template in Xataface.">block__blockname()</a>), or to affect the flow of control (e.g. <a class="el" href="interface_application_delegate_class.html#a604857382e4d777c6ee9998b4fa93281" title="Trigger executed before each request (but after the autehntication step). It is often useful to imple...">beforeHandleRequest()</a>). Although it is not required to implement an Application Delegate Class for your application, it is hard to imagine a very powerful application not having one.</p>
<dl class="section see"><dt>See Also</dt><dd><a href="http://xataface.com/wiki/Application_Delegate_Class">The Application Delegage Class Wiki Page</a> for legacy documentation and examples.</dd></dl>
<dl class="section user"><dt>Application Delegate Class vs the Table Delegate Class</dt><dd>Xataface also supports table delegate classes that include some of the same methods as the application delegate class. The difference is that table delegate classes customize only aspects of the application relating to a single table (the table that the delegate class is associated with). For more information about table delegate classes Check out the following links: </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="interface_delegate_class.html">DelegateClass</a> - API docs for the Table delegate class interface. </dd>
<dd>
<a href="http://xataface.com/wiki/Delegate_class_methods">Delegate Class Wiki Page</a> for legacy documentation of delegate class methods. </dd>
<dd>
<a href="http://xataface.com/documentation/tutorial/getting_started/delegate_classes">Delegate classes</a> section of the getting started tutorial for an introduction to delegate classes.</dd></dl>
<dl class="section user"><dt>Example Basic Application Delegate Class:</dt><dd>File APPLICATION_PATH%/conf/ApplicationDelegate.php: <div class="fragment"><div class="line">&lt;?php</div>
<div class="line"><span class="keyword">class </span>conf_ApplicationDelegate {</div>
<div class="line">     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="interface_application_delegate_class.html#aac1919008579685f034fc99be68a564c" title="Returns associative array of permissions that should be granted to the current user on the specified ...">getPermissions</a>($record){</div>
<div class="line">         $user = <a class="code" href="class_dataface___authentication_tool.html#a70344e265a1689f4ef67ce1bc5d889df">Dataface_AuthenticationTool::getInstance</a>()-&gt;getLoggedInUser();</div>
<div class="line">         <span class="keywordflow">if</span> ( $user and $user-&gt;val(<span class="stringliteral">&#39;role&#39;</span>) == <span class="stringliteral">&#39;ADMIN&#39;</span> ){</div>
<div class="line">             <span class="keywordflow">return</span> <a class="code" href="class_dataface___permissions_tool.html#a53a8c60bebeb3380b9389c7a6e00f4c2">Dataface_PermissionsTool::ALL</a>();</div>
<div class="line">         } <span class="keywordflow">else</span> {</div>
<div class="line">             <span class="keywordflow">return</span> <a class="code" href="class_dataface___permissions_tool.html#abd8344d899c1228504494bd6f2f63dcd">Dataface_PermissionsTool::NO_ACCESS</a>();</div>
<div class="line">         }</div>
<div class="line">     }</div>
<div class="line"></div>
<div class="line">     <span class="comment">// Hook called before the request....</span></div>
<div class="line"></div>
<div class="line">     <span class="keyword">public</span> <span class="keyword">function</span> <a class="code" href="interface_application_delegate_class.html#a604857382e4d777c6ee9998b4fa93281" title="Trigger executed before each request (but after the autehntication step). It is often useful to imple...">beforeHandleRequest</a>(){</div>
<div class="line">         <a class="code" href="blob_8php.html#adfb117f244076aa9bc269269f7e57403">$app</a> = <a class="code" href="class_dataface___application.html#a9eb606fdb589cab3ae9edc96dce15972" title="Returns reference to the singleton instance of this class.">Dataface_Application::getInstance</a>();</div>
<div class="line">         $query =&amp; <a class="code" href="blob_8php.html#adfb117f244076aa9bc269269f7e57403">$app</a>-&gt;getQuery();</div>
<div class="line">         <span class="keywordflow">if</span> ( $query[<span class="stringliteral">&#39;-table&#39;</span>] == <span class="stringliteral">&#39;dashboard&#39;</span> and <a class="code" href="blob_8php.html#adfb117f244076aa9bc269269f7e57403">$app</a>-&gt;_conf[<span class="stringliteral">&#39;using_default_action&#39;</span>] ){</div>
<div class="line">             <span class="comment">// If we&#39;re in the dashboard table and no action is explicitly specified</span></div>
<div class="line">             <span class="comment">// then we will set the action to &#39;dashboard&#39;</span></div>
<div class="line">             $query[<span class="stringliteral">&#39;-action&#39;</span>] = <span class="stringliteral">&#39;dashboard&#39;</span>;</div>
<div class="line">         }</div>
<div class="line">     }</div>
<div class="line"> }</div>
</div><!-- fragment --> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The above sample demonstrates just two of the available methods that can be implemented in the Application Delegate Class. There are many more.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="interface_application_delegate_class.html#a604857382e4d777c6ee9998b4fa93281" title="Trigger executed before each request (but after the autehntication step). It is often useful to imple...">beforeHandleRequest()</a> For details on the <a class="el" href="interface_application_delegate_class.html#a604857382e4d777c6ee9998b4fa93281" title="Trigger executed before each request (but after the autehntication step). It is often useful to imple...">beforeHandleRequest</a> method. </dd>
<dd>
<a class="el" href="interface_application_delegate_class.html#aac1919008579685f034fc99be68a564c" title="Returns associative array of permissions that should be granted to the current user on the specified ...">getPermissions()</a> for details of the <a class="el" href="interface_application_delegate_class.html#aac1919008579685f034fc99be68a564c" title="Returns associative array of permissions that should be granted to the current user on the specified ...">getPermissions</a> method. </dd></dl>

<p>Definition at line <a class="el" href="_application_delegate_class_8php_source.html#l00066">66</a> of file <a class="el" href="_application_delegate_class_8php_source.html">ApplicationDelegateClass.php</a>.</p>
</div><h2>Member Function Documentation</h2>
<a class="anchor" id="a86e150a3f3ae05c6b14dec754fff5802"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">after_action_activate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trigger executed after a user account is activated. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="aff12cada76ef7abac4a90e6c1d5aefbb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">after_action_delete </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trigger executed after successfully deleting a record through the UI. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="af0ec5a2c4a043a0603f01facb451fbe4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">after_action_edit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trigger executed after succesfully editing a record. This is called after the <code>edit</code> action is complete in constrast to the afterSave() method that is called after a record is saved. The key difference is that afterSave() may be called many times per request (as many records may be changed and saved in a request). <a class="el" href="interface_application_delegate_class.html#af0ec5a2c4a043a0603f01facb451fbe4" title="Trigger executed after succesfully editing a record. This is called after the edit action is complete...">after_action_edit()</a>, on the other hand is only called once after the edit form has been successfully saved. </p>
<dl class="section user"><dt>Typical Uses</dt><dd>This trigger is often used to redirect the user to a page other than the default after he finishes editing a record. </dd></dl>

</div>
</div>
<a class="anchor" id="a58965d15f537e6666ae15179018d0c20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">after_action_login </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trigger executed after a user logs in. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="aa464ba05624a2515d5adbc600d8ae870"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">after_action_logout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trigger executed after a user logs out. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="a74c3586809f921cda6fc58265debaa9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">after_action_new </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trigger executed after successfully inserting a new record through the <code>new</code> action. This is called after the <code>new</code> action is complete in contrast to the afterInsert() method that is called after a record is inserted. The key difference is that afterInsert() may be called multiple times per request, since many records may be inserted in a single request. The <a class="el" href="interface_application_delegate_class.html#a74c3586809f921cda6fc58265debaa9d" title="Trigger executed after successfully inserting a new record through the new action. This is called after the new action is complete in contrast to the afterInsert() method that is called after a record is inserted. The key difference is that afterInsert() may be called multiple times per request, since many records may be inserted in a single request. The after_action_new() trigger, on the other hand, is only called once after the new form has been successfully saved.">after_action_new()</a> trigger, on the other hand, is only called once after the new form has been successfully saved. </p>
<dl class="section user"><dt>Typical Uses</dt><dd>This trigger is often used to rediret the user to a page other than the default after he finishes adding a new record.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="a11f7df950ab04f93da5a4a96478e2206"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">afterRegister </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___record.html">Dataface_Record</a>&#160;</td>
          <td class="paramname"><em>$user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A trigger that is executed after the registration form is saved. This can be used to perform some custom actions like emailing the administrator. </p>
<pre class="fragment">@param Dataface_Record $user A Dataface_Record object encapsulating the record 
that is being inserted in the users table for this registration.
@returns mixed If this method returns a PEAR_Error object, then registration will fail with an error.

@par Example:
@code 
&lt;?php
</pre><p> class conf_ApplicationDelegate { function afterRegister(&amp;$record){ // mail the admin to let him know that the registration is occurring. mail('<a href="#" onclick="location.href='mai'+'lto:'+'adm'+'in'+'@ex'+'am'+'ple'+'.c'+'om'; return false;">admin<span style="display: none;">.nosp@m.</span>@exa<span style="display: none;">.nosp@m.</span>mple.<span style="display: none;">.nosp@m.</span>com</a>', 'New registration', 'A new user '.$record-&gt;val('username').' has registered); } } </p>
<dl class="section see"><dt>See Also</dt><dd><a href="http://xataface.com/wiki/afterRegister">afterRegister Wiki Page</a> </dd>
<dd>
<a class="el" href="interface_application_delegate_class.html#ab7e1f6a70736970591876bb960423b63" title="A trigger executed before the registration form is saved. This can be used to perform some custom act...">beforeRegister()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a81b1d4efe45504618d0b054d30344f72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">before_authenticate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trigger executed before the authentication step occurs in each request. This method may be handy for changing the authentication type at the last minute depending on various factors. </p>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a href="http://xataface.com/wiki/before_authenticate">before_authenticate wiki page</a> for legacy documentation of this method. </dd></dl>

</div>
</div>
<a class="anchor" id="a604857382e4d777c6ee9998b4fa93281"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">beforeHandleRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Trigger executed before each request (but after the autehntication step). It is often useful to implement this method to provide desirable default behavior for a request. </p>
<p>This may be used for such things as:</p>
<ul>
<li>Redirecting the user to a different page if certain requirements aren't met.</li>
<li>Specifying a default sort for the records of a table.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a href="http://xataface.com/wiki/beforeHandleRequest">beforeHandleRequest Wiki Page</a> for legacy documentation of this method. </dd></dl>

</div>
</div>
<a class="anchor" id="ab7e1f6a70736970591876bb960423b63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">beforeRegister </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___record.html">Dataface_Record</a>&#160;</td>
          <td class="paramname"><em>$user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A trigger executed before the registration form is saved. This can be used to perform some custom actions like emailing the administrator. </p>
<pre class="fragment">@param Dataface_Record $user A Dataface_Record object encapsulating the record 
    that is being inserted in the users table for this registration.
@returns mixed  If this method returns a PEAR_Error object, then registration
 will fail with an error.

@par Example:
@code 
&lt;?php
</pre><p> class conf_ApplicationDelegate { function beforeRegister(&amp;$record){ // mail the admin to let him know that the registration is occurring. mail('<a href="#" onclick="location.href='mai'+'lto:'+'adm'+'in'+'@ex'+'am'+'ple'+'.c'+'om'; return false;">admin<span style="display: none;">.nosp@m.</span>@exa<span style="display: none;">.nosp@m.</span>mple.<span style="display: none;">.nosp@m.</span>com</a>', 'New registration', 'A new user '.$record-&gt;val('username').' has registered); } } </p>
<dl class="section see"><dt>See Also</dt><dd><a href="http://xataface.com/wiki/beforeRegister">beforeRegister wiki page.</a> </dd>
<dd>
<a class="el" href="interface_application_delegate_class.html#a11f7df950ab04f93da5a4a96478e2206" title="A trigger that is executed after the registration form is saved. This can be used to perform some cus...">afterRegister()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a02e759df91113d14d1b5fc26cf60d28d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">block__blockname </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inserts content into a particular block or slot of a template in Xataface. </p>
<pre class="fragment">@see &lt;a href="http://xataface.com/documentation/tutorial/getting_started/changing-look-and-feel"&gt;Changing Xataface Look and Feel&lt;/a&gt;

@par Example
@code 
function block__before_header(){
</pre><p> echo "&lt;h1&gt;Hello World&lt;/h1&gt;"; }  This would print "Hello World" at the top of each page as follows: </p>
<div class="image">
<img src="http://media.weblite.ca/files/photos/Screen_shot_2011-11-28_at_1.01.49_PM.png?max_width=640" />
</div>
<dl class="section user"><dt>Listing All Blocks</dt><dd>You can list the blocks and slots in Xataface by enabling debug mode in your application. You can do this by adding: <div class="fragment"><div class="line">debug=1</div>
</div><!-- fragment --> to the beginning of your application's conf.ini file, then loading your application in a web browser. Blocks and slots will be printed out with the interface. You can then easily insert content into these blocks by imlementing the appropriate named <code><a class="el" href="interface_application_delegate_class.html#a02e759df91113d14d1b5fc26cf60d28d" title="Inserts content into a particular block or slot of a template in Xataface.">block__blockname()</a></code> method in either your application delegate class or your table delegate class.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a href="http://xataface.com/wiki/block__blockname">A Full List of Slots and blocks In Xataface.  DelegateClass::block__blockname() - For blocks that only affect a particular table. </a></dd></dl>

</div>
</div>
<a class="anchor" id="a332ddc8d8ce3876e6f464661f4009bdd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getFeed </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an associative array of parameters to configure the RSS feed for a particular table . </p>
<pre class="fragment">@param array $query The HTTP query. Contains information like the current table, current action, and search parameters. This allows you to customize your RSS feed depending on the user's query parameters.
@returns array Returns an associative array with the components of the RSS feed. This array does not need to contain all possible keys, or even any keys. Any keys that are omitted will simply use default values in the RSS feed. The array may contain the following keys:
- @p title - The title for the RSS feed. If this omitted, it will try to use the title directive of the [_feed] section of the conf.ini file. Failing that, it will try to generate an appropriate title for the feed depending on the current query.  (since 1.0)
- @p description -  A Description for this RSS feed. If this is omitted, it will try to use the description directive of the [_feed] section of the conf.ini file. Since 1.0
- @p link -  A link to the source page of the RSS feed. If this is omitted, it will try to use the link directive of the [_feed] section of the conf.ini file.       Since 1.0
- @p syndicationURL- A link to the source page of the RSS feed. If this is omitted, it will try to use the syndicationURL directive of the [_feed] section of the conf.ini file.    Since 1.0
</pre><dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line"><span class="keyword">function</span> <a class="code" href="interface_application_delegate_class.html#a332ddc8d8ce3876e6f464661f4009bdd" title="Returns an associative array of parameters to configure the RSS feed for a particular table ...">getFeed</a>(&amp;$query){</div>
<div class="line">   <span class="keywordflow">return</span> array(</div>
<div class="line">       <span class="stringliteral">&#39;title&#39;</span> =&gt; <span class="stringliteral">&quot;RSS feed for the &quot;</span>.$query[<span class="stringliteral">&#39;-table&#39;</span>].<span class="stringliteral">&quot; table.&quot;</span>,</div>
<div class="line">       <span class="stringliteral">&#39;description&#39;</span> =&gt; <span class="stringliteral">&quot;News and updates for automobiles&quot;</span>,</div>
<div class="line">       <span class="stringliteral">&#39;link&#39;</span> =&gt; df_absolute_url(DATAFACE_SITE_HREF),</div>
<div class="line">       <span class="stringliteral">&#39;syndicationURL&#39;</span> =&gt; df_absolute_url(DATAFACE_SITE_HREF)</div>
<div class="line">   );</div>
<div class="line">}</div>
</div><!-- fragment --> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>RSS feeds will work perfectly well without defining this method. This just allows you to customize one or more parameters of the RSS feed. <pre class="fragment">@see DelegateClass::getFeed()
@see DelegateClass:getFeedItem()
@see &lt;a href="http://xataface.com/wiki/getFeed"&gt;getFeed Wiki Page&lt;/a&gt;
@see &lt;a href="http://xataface.com/wiki/Introduction_to_RSS_Feeds_in_Xataface"&gt;Introduction to RSS Feeds in Xataface&lt;/a&gt;</pre> </dd></dl>

</div>
</div>
<a class="anchor" id="ae47454c160a4a10203658bd17acddfaf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getNavItem </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The <a class="el" href="interface_application_delegate_class.html#ae47454c160a4a10203658bd17acddfaf" title="The getNavItem() method of the application delegate class can be used to override the items that appe...">getNavItem()</a> method of the application delegate class can be used to override the items that appear in the navigation menu (i.e. the menu that allows users to select the table via either tabs along the top or items along the side). It should return an associative array with characteristics of the navigation item including the href (i.e. link), label, and selected status. </p>
<pre class="fragment">  Using this method it is now possible to have non-table navigation items as well. You would just add these items to the \[_tables\] section of the conf.ini file then override the item using this method.

  @since 1.3

  @section how_the_nav_menu_is_built How the Nav Menu Is Built

  Xataface builds the navigation menu by looping through each item in the [_tables] section of the conf.ini file, passing it to the getNavItem() method, and adding the resulting navigation item to the menu. If getNavItem() returns null, then that item will be skipped. If getNavItem throws an exception, then the default rendering for the menu item will take place.

  @param string $key The key of the nav item. In the case of a table, this would be the table name.
  @param string $label The label of the nav item (may be overridden).
  @returns mixed This method should return either:
  - An associative array with the properties of the nav item.
  - @p null to indicate that this nav item should be omitted altogether. (e.g. if the user shouldn't have permission for it).
  If returning an associative array, it should contain the following keys:
  - @p href - (String) The URL where this nav item should point.
  - @p label - (String) The label of this nav item.
  - @p selected - (Boolean) True if the nav item is currently selected. False otherwise.

  @throws Exception If you want to signal Xataface to just use default rendering for the current navigation item you can just throw an exception. The default rendering will link to the table named @p $key, and the item's label will be the same as @p $label.

  @section getNavItem_examples Examples

  Given the following conf.ini file:
  @code 
  ...
</pre><p> [_tables] people=People books=Books accounts=Accounts reports=Reports</p>
<p>... </p>
<p>Suppose we want the navigation menu to only show the people and books options for regular users. Admin users can see all options.</p>
<p>*In addition, the 'reports' option doesn't correspond with a table of the database. Instead we are just going to link it to a custom action named 'reports'.</p>
<p>*Our <a class="el" href="interface_application_delegate_class.html#ae47454c160a4a10203658bd17acddfaf" title="The getNavItem() method of the application delegate class can be used to override the items that appe...">getNavItem()</a> method will look something like this: </p>
<div class="fragment"><div class="line">  <span class="keyword">function</span> <a class="code" href="interface_application_delegate_class.html#ae47454c160a4a10203658bd17acddfaf" title="The getNavItem() method of the application delegate class can be used to override the items that appe...">getNavItem</a>($key, $label){</div>
<div class="line">     <span class="keywordflow">if</span> (!<a class="code" href="functions_8inc_8php.html#aabf23b66cd362adaa508de5bfb22706a" title="Checks if the currently logged-in user is an administrator.">isAdmin</a>() ){</div>
<div class="line">         <span class="keywordflow">switch</span> ($key){</div>
<div class="line">             <span class="keywordflow">case</span> <span class="stringliteral">&#39;people&#39;</span>:</div>
<div class="line">             <span class="keywordflow">case</span> <span class="stringliteral">&#39;books&#39;</span>:</div>
<div class="line">                 <span class="comment">// non-admin users can see these</span></div>
<div class="line">                 <span class="keywordflow">throw</span> <span class="keyword">new</span> Exception(<span class="stringliteral">&quot;Use default rendering&quot;</span>);</div>
<div class="line">         }</div>
<div class="line">         <span class="comment">// Non-admin users can&#39;t see any other table.</span></div>
<div class="line">         <span class="keywordflow">return</span> null;</div>
<div class="line">  </div>
<div class="line">     } <span class="keywordflow">else</span> {</div>
<div class="line"> </div>
<div class="line">         <span class="comment">//Admin users can see everything..</span></div>
<div class="line">         $query =&amp; <a class="code" href="class_dataface___application.html#a9eb606fdb589cab3ae9edc96dce15972" title="Returns reference to the singleton instance of this class.">Dataface_Application::getInstance</a>()-&gt;getQuery();</div>
<div class="line">         <span class="keywordflow">switch</span> ($key){</div>
<div class="line">             <span class="keywordflow">case</span> <span class="stringliteral">&#39;reports&#39;</span>:</div>
<div class="line">                 <span class="comment">// reports is not a table so we need to return custom properties.</span></div>
<div class="line">                 <span class="keywordflow">return</span> array(</div>
<div class="line">                     <span class="stringliteral">&#39;href&#39;</span> =&gt; DATAFACE_SITE_HREF.<span class="stringliteral">&#39;?-action=reports&#39;</span>,</div>
<div class="line">                     <span class="stringliteral">&#39;label&#39;</span> =&gt; $label,</div>
<div class="line">                     <span class="stringliteral">&#39;selected&#39;</span> =&gt; ($query[<span class="stringliteral">&#39;-action&#39;</span>] == <span class="stringliteral">&#39;reports&#39;</span>)</div>
<div class="line">                 );</div>
<div class="line">             </div>
<div class="line">         }</div>
<div class="line">         </div>
<div class="line"> </div>
<div class="line">         <span class="comment">// For other actions we need to make sure that they aren&#39;t selected</span></div>
<div class="line">         <span class="comment">// if the current action is reports because we want the &#39;reports&#39;</span></div>
<div class="line">         <span class="comment">// tab to be selected only in that case.</span></div>
<div class="line">         <span class="keywordflow">return</span> array(</div>
<div class="line">             <span class="stringliteral">&#39;selected&#39;</span> =&gt; ($query[<span class="stringliteral">&#39;-table&#39;</span>] == $key and $query[<span class="stringliteral">&#39;-action&#39;</span>] != <span class="stringliteral">&#39;reports&#39;</span>)</div>
<div class="line">         );</div>
<div class="line">     }</div>
<div class="line">*}</div>
</div><!-- fragment --><dl class="section see"><dt>See Also</dt><dd>isNavItemSelected() </dd>
<dd>
<a href="http://xataface.com/wiki/getNavItem">getNavItem Wiki Page</a> </dd></dl>

</div>
</div>
<a class="anchor" id="acb16593b459e49320ad418497a0f27b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getPasswordChangedEmailInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___record.html">Dataface_Record</a>&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Optional method to define the settings for the email that is sent to the user upon successful resetting of their password using the password reset function. </p>
<dl class="section since"><dt>Since</dt><dd>1.3</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">$user</td><td>The <a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a> of the user whose password has been changed. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>The new temporary password that has been assigned to the user. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array This method should return an associative array with 0 or more of the following keys:<ul>
<li><code>subject</code> - The subject line of the email.</li>
<li><code>message</code> - The message content of the email.</li>
<li><code>headers</code> - The Email headers (as a string).</li>
<li><code>parameters</code> - Extra parameters for the mail function.</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a href="http://xataface.com/wiki/getPasswordChangedEmailInfo">getPasswordChangedEmailInfo Wiki Page</a> </dd>
<dd>
<a class="el" href="interface_application_delegate_class.html#a75824b49db118b4c5ee6c9eb89fdc734" title="Optional method to define the settings for the email that is sent to the user when they request to re...">getResetPasswordEmailInfo()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aac1919008579685f034fc99be68a564c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getPermissions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___record.html">Dataface_Record</a>&#160;</td>
          <td class="paramname"><em>$record</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns associative array of permissions that should be granted to the current user on the specified record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">$record</td><td>The record on which we are granting permissions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array Associative array of permissions that are granted. The keys of this array are the names of permissions (defined in the permissions.ini file) and values are boolean (0 or 1) to indicate whether or not the permission is granted. This method may also return null to indicate that it has no opinion on the permissions to use - i.e. it will default to the permissions defined in the <a class="el" href="interface_application_delegate_class.html" title="An interface to document the methods that can be implemented in the Application delegate class...">ApplicationDelegateClass</a>.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>0.5</dd></dl>
<h1><a class="anchor" id="Flowchart"></a>
Flowchart</h1>
<p>The following flowchart shows the flow of control Xataface uses to determine the record-level permissions for a record. (<a href="http://media.weblite.ca/files/photos/Xataface_Permissions_Flowchart.png" target="_blank">click here to enlarge</a>): </p>
<div class="image">
<img src="http://media.weblite.ca/files/photos/Xataface_Permissions_Flowchart.png?max_width=640" />
</div>
<dl class="section see"><dt>See Also</dt><dd><a href="http://xataface.com/documentation/tutorial/getting_started/permissions">http://xataface.com/documentation/tutorial/getting_started/permissions</a> </dd>
<dd>
<a class="el" href="group__delegate_class.html#gaac1919008579685f034fc99be68a564c" title="Returns associative array of permissions that should be granted to the current user on this record...">DelegateClass::getPermissions()</a> </dd>
<dd>
<a class="el" href="interface_application_delegate_class.html#a28e7d8521c6d7dc6254e4101e5e170a8" title="Returns one or more roles that are to be granted to the current user for the specified record...">getRoles()</a> </dd>
<dd>
<a class="el" href="class_dataface___record.html#a2c2976d90b444715ac971add03b2d528">Dataface_Record::getPermissions()</a> </dd>
<dd>
<a class="el" href="class_dataface___table.html#a2c2976d90b444715ac971add03b2d528" title="Obtains the permissions for a particular record or for this table. Parameters are passed in associati...">Dataface_Table::getPermissions()</a> </dd>
<dd>
<a class="el" href="class_dataface___permissions_tool.html">Dataface_PermissionsTool</a> </dd>
<dd>
<a href="http://xataface.com/wiki/permissions.ini_file">http://xataface.com/wiki/permissions.ini_file</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab726d3878e4501d3be6a4894c59b2bfc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getPreferences </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the preferences to assign the current user. This is run after the authentication step on each request (but before the <a class="el" href="interface_application_delegate_class.html#a604857382e4d777c6ee9998b4fa93281" title="Trigger executed before each request (but after the autehntication step). It is often useful to imple...">beforeHandleRequest()</a> method). </p>
<pre class="fragment">@see &lt;a href="http://xataface.com/wiki/preferences"&gt;Preferences&lt;/a&gt; - for information about
Xataface preferences.

@returns array(string=&gt;boolean)

@par Example:
@code 
function getPreferences(){
 return array('hide_update'=&gt;1, 'hide_posted_by'=&gt;1);
</pre><p> }  </p>

</div>
</div>
<a class="anchor" id="ac0b75ecf5a351083fa9434cf3f70c871"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getRegistrationActivationEmailHeaders </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___record.html">Dataface_Record</a>&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$activationURL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A hook that can be implemented to override the default registration activation email headers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">$user</td><td>The record that is being inserted into the users table. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$activationURL</td><td>The url where the user can go to activate their account. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed If this method returns a <a class="el" href="class_p_e_a_r___error.html">PEAR_Error</a> object, then registration will fail with an error. </dd></dl>

</div>
</div>
<a class="anchor" id="abc8bc5f72006c1a88d2b7e4e8b2bba0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getRegistrationActivationEmailInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___record.html">Dataface_Record</a>&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$activationURL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A hook that can be implemented to override the default information that is used to send the registration activation email (the email that the user receives when they register). </p>
<pre class="fragment">@param Dataface_Record $user A Dataface_Record object encapsulating the record that is being 
inserted in the users table for this registration.
@param string $activationURL The URL where the user can go to activate their account.
@returns mixed If this method returns a PEAR_Error object, then registration will fail with an error.

@par Example
@code 
&lt;?php
</pre><p> class conf_ApplicationDelegate {</p>
<p>function getRegistrationActivationEmailInfo(&amp;$record, $activationURL){ return array( 'subject' =&gt; 'Welcome to the site.. Activation required', 'message' =&gt; 'Thanks for registering. Visit '.$activationURL.' to activate your account', 'headers' =&gt; 'From: <a href="#" onclick="location.href='mai'+'lto:'+'web'+'ma'+'ste'+'r@'+'exa'+'mp'+'le.'+'co'+'m'; return false;">webma<span style="display: none;">.nosp@m.</span>ster<span style="display: none;">.nosp@m.</span>@exam<span style="display: none;">.nosp@m.</span>ple.<span style="display: none;">.nosp@m.</span>com</a>' . "\r\n" . 'Reply-To: <a href="#" onclick="location.href='mai'+'lto:'+'web'+'ma'+'ste'+'r@'+'exa'+'mp'+'le.'+'co'+'m'; return false;">webma<span style="display: none;">.nosp@m.</span>ster<span style="display: none;">.nosp@m.</span>@exam<span style="display: none;">.nosp@m.</span>ple.<span style="display: none;">.nosp@m.</span>com</a>' . "\r\n" . 'X-Mailer: PHP/' . phpversion() );</p>
<p>} } </p>
<dl class="section user"><dt>Example 2: Only Override Subject</dt><dd><div class="fragment"><div class="line">&lt;?php</div>
<div class="line"><span class="keyword">class </span>conf_ApplicationDelegate {</div>
<div class="line"></div>
<div class="line">   <span class="keyword">function</span> <a class="code" href="interface_application_delegate_class.html#abc8bc5f72006c1a88d2b7e4e8b2bba0c" title="A hook that can be implemented to override the default information that is used to send the registrat...">getRegistrationActivationEmailInfo</a>(&amp;$record, $activationURL){</div>
<div class="line">       <span class="keywordflow">return</span> array(</div>
<div class="line">           <span class="stringliteral">&#39;subject&#39;</span> =&gt; <span class="stringliteral">&#39;Welcome to the site.. Activation required&#39;</span></div>
<div class="line">            ); </div>
<div class="line">   }</div>
<div class="line">}</div>
</div><!-- fragment --></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a href="http://xataface.com/wiki/getRegistrationActivationEmailInfo">getRegistrationActivationEmailInfo Wiki Page</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ac64524edf2237ca2ff42315283b20688"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getRegistrationActivationEmailMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___record.html">Dataface_Record</a>&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$activationURL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A hook that can be implemented to override the default registration activation email message body (the email that the user receives when they register). </p>
<pre class="fragment">@param Dataface_Record $user A Dataface_Record object encapsulating the record that is being inserted in the users table for this registration.
@param string $activationURL The URL where the user can go to activate their account.
@returns mixed If this method returns a PEAR_Error object, then registration will fail with an error.

@par Example
@code 
&lt;?php
</pre><p> class conf_ApplicationDelegate {</p>
<p>function getRegistrationActivationEmailInfo(&amp;$record, $activationURL){ return 'Thanks for registering. Please visit '.$activationURL.' to activate.'; } } </p>
<dl class="section see"><dt>See Also</dt><dd><a href="http://xataface.com/wiki/getRegistrationActivationEmailMessage">getRegistrationActivationEmailMessage Wiki Page</a> </dd></dl>

</div>
</div>
<a class="anchor" id="abb50b1364957b25fcb924cb95ba0ed71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getRegistrationActivationEmailParameters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___record.html">Dataface_Record</a>&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$activationURL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>a hooke that can be implemented to override the default registration activation email parameters (the email the user receives when they register). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">$user</td><td>The record that is being inserted into the users table. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$activationURL</td><td>The URL where the user can go to activate their account. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed If this method returns a <a class="el" href="class_p_e_a_r___error.html">PEAR_Error</a> object, then registration will fail with an error. </dd></dl>

</div>
</div>
<a class="anchor" id="ab45e2d46f790145017efeb067154f3f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getRegistrationActivationEmailSubject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___record.html">Dataface_Record</a>&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$activationURL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A hook that can be implemented to override the default registration activation email subject line (the email that the user receives when they register). </p>
<pre class="fragment">  @param Dataface_Record $user A Dataface_Record object encapsulating the record that is being inserted in the users table for this registration.
  @param string $activationURL The URL where the user can go to activate their account.
  @returns mixed If this method returns a PEAR_Error object, then registration will fail with an error.

  @par Example
  @code 
  &lt;?php
</pre><p> *class conf_ApplicationDelegate { </p>
<pre class="fragment">    function getRegistrationActivationEmailInfo(&amp;$record, $activationURL){
            reeturn 'Welcome to the site.. Activation required';   
    }
</pre><p> *} </p>
<dl class="section see"><dt>See Also</dt><dd><a href="http://xataface.com/wiki/getRegistrationActivationEmailSubject">getRegistrationActivationEmailSubject Wiki Page</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a166efd68555c1183f7c35329dff0b8d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getRelatedFeed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___record.html">Dataface_Record</a>&#160;</td>
          <td class="paramname"><em>$record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$relationship</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an associative array of parameters to configure the RSS feed for the related records of a particular parent record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">$record</td><td>The parent record whose relationship is being published as an RSS feed. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$relationship</td><td>The name of the relationship whose records are being published.<ul>
<li></li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array Returns an associative array with the components of the RSS feed. This array does not need to contain all possible keys, or even any keys. Any keys that are omitted will simply use default values in the RSS feed. The array may contain the following keys:<ul>
<li><code>title</code> - The title for the RSS feed. If this omitted, it will try to use the title directive of the [_feed] section of the conf.ini file. Failing that, it will try to generate an appropriate title for the feed depending on the current query. (since 1.0)</li>
<li><code>description</code> - A Description for this RSS feed. If this is omitted, it will try to use the description directive of the [_feed] section of the conf.ini file. Since 1.0</li>
<li><code>link</code> - A link to the source page of the RSS feed. If this is omitted, it will try to use the link directive of the [_feed] section of the conf.ini file. Since 1.0</li>
<li><code>syndicationURL-</code> A link to the source page of the RSS feed. If this is omitted, it will try to use the syndicationURL directive of the [_feed] section of the conf.ini file. Since 1.0</li>
</ul>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__delegate_class.html#ga166efd68555c1183f7c35329dff0b8d5" title="Returns details about a feed of related records. This overrides the feed details for related feeds...">DelegateClass::getRelatedFeed()</a> - This method is superceded by the table's delegate class implementation of <a class="el" href="interface_application_delegate_class.html#a166efd68555c1183f7c35329dff0b8d5" title="Returns an associative array of parameters to configure the RSS feed for the related records of a par...">getRelatedFeed()</a> <a class="el" href="ftp_8class_8php.html#a94eca4d7b282396aa1e978669e120e91">if</a> it is defined. </dd>
<dd>
<a class="el" href="interface_application_delegate_class.html#a332ddc8d8ce3876e6f464661f4009bdd" title="Returns an associative array of parameters to configure the RSS feed for a particular table ...">getFeed()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a75824b49db118b4c5ee6c9eb89fdc734"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getResetPasswordEmailInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___record.html">Dataface_Record</a>&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$reset_url</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Optional method to define the settings for the email that is sent to the user when they request to reset their password. </p>
<pre class="fragment">@since 1.3

@param Dataface_Record $user The Dataface_Record of the user whose password has been changed.
@param string $reset_url The URL where the user should go to reset their password. When they visit this URL they will receive a message saying that their password has been changed and the new password has been emailed to them. That subsequent email can be customized using the getPasswordChangedEmailInfo() method.
@returns array This method should return an associative array with 0 or more of the following keys:
</pre><ul>
<li><code>subject</code> - The subject line of the email.</li>
<li><code>message</code> - The message content of the email.</li>
<li><code>headers</code> - The Email headers (as a string).</li>
<li><code>parameters</code> - Extra parameters for the mail function.</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a href="http://xataface.com/wiki/getResetPasswordEmailInfo">getResetPasswordEmailInfo Wiki Page</a> </dd>
<dd>
<a class="el" href="interface_application_delegate_class.html#acb16593b459e49320ad418497a0f27b4" title="Optional method to define the settings for the email that is sent to the user upon successful resetti...">getPasswordChangedEmailInfo()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a28e7d8521c6d7dc6254e4101e5e170a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getRoles </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___record.html">Dataface_Record</a>&#160;</td>
          <td class="paramname"><em>$record</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns one or more roles that are to be granted to the current user for the specified record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="class_dataface___record.html" title="Represents a single record from a table.">Dataface_Record</a></td><td class="paramname">$record</td><td>The record on which the roles are to be granted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed Either a string with a single role or an array of strings representing roles that are assigned to the current user on the given record. </dd></dl>
<dl class="section since"><dt>Since</dt><dd>1.0</dd></dl>
<h1><a class="anchor" id="Synopsis"></a>
Synopsis</h1>
<dl class="section attention"><dt>Attention</dt><dd>Note that the results of this method are always superceded by the results of <a class="el" href="interface_application_delegate_class.html#aac1919008579685f034fc99be68a564c" title="Returns associative array of permissions that should be granted to the current user on the specified ...">getPermissions()</a> if defined.</dd></dl>
<h1><a class="anchor" id="Flowchart"></a>
Flowchart</h1>
<p>The following flowchart shows the flow of control Xataface uses to determine the record-level permissions for a record. (<a href="http://media.weblite.ca/files/photos/Xataface_Permissions_Flowchart.png" target="_blank">click here to enlarge</a>): </p>
<div class="image">
<img src="http://media.weblite.ca/files/photos/Xataface_Permissions_Flowchart.png?max_width=640" />
</div>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="interface_application_delegate_class.html#aac1919008579685f034fc99be68a564c" title="Returns associative array of permissions that should be granted to the current user on the specified ...">getPermissions()</a> </dd>
<dd>
<a class="el" href="class_dataface___record.html#a82972507cf743d67c1b4fdb01bff3711" title="Returns an array of the roles assigned to the current user with respect to this record.">Dataface_Record::getRoles()</a> </dd>
<dd>
<a href="http://xataface.com/documentation/tutorial/getting_started/permissions">http://xataface.com/documentation/tutorial/getting_started/permissions</a> </dd>
<dd>
<a class="el" href="class_dataface___permissions_tool.html">Dataface_PermissionsTool</a> </dd>
<dd>
<a href="http://xataface.com/wiki/permissions.ini_file">http://xataface.com/wiki/permissions.ini_file</a> </dd>
<dd>
<a class="el" href="group__delegate_class.html#ga28e7d8521c6d7dc6254e4101e5e170a8" title="Returns one or more roles that are to be granted to the current user for the specified record...">DelegateClass::getRoles()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="adfe361752713868652012ed9734fbc8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getSearchTarget </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$action</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the name of an action that should be used as the target action of a search performed from the current context. In past releases searches would always go to the list action. This gives you the ability to override this behavior with your own custom action depending on the circumstances. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$action</td><td>The action definition to check (this would be the source action). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>2.0 </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="class_dataface___application.html#a75fa059c174baee27db1a24c3e9eb566" title="Gets the name of the action that should be used as a search target from the given action context...">Dataface_Application::getSearchTarget()</a> </dd>
<dd>
<a class="el" href="interface_delegate_class.html">DelegateClass</a>:<a class="el" href="interface_application_delegate_class.html#adfe361752713868652012ed9734fbc8b" title="Returns the name of an action that should be used as the target action of a search performed from the...">getSearchTarget()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2038618d1e557be90752a76a9eca167c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getTemplateContext </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a556f012b0c79aa3bdcb34a604d2eba5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">navItemIsSelected </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6c90dace5f98d303228bb7270f7f98d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sendRegistrationActivationEmail </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dataface___record.html">Dataface_Record</a>&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$activationURL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A hook that can be implemented to override the sending of an activation email to the user. </p>
<pre class="fragment">@param Dataface_Record $user A Dataface_Record object encapsulating the record that is being 
inserted in the users table for this registration.
@param string $activationURL The URL where the user can go to activate their account.
@returns If this method returns a PEAR_Error object, then registration will fail with an error.

@par Example
@code 
&lt;?php
</pre><p> class conf_ApplicationDelegate {</p>
<p>function sendRegistrationActivationEmail(&amp;$record, $activationURL){ // mail the admin to let him know that the registration is occurring. $username = $record-&gt;val('username'); $email = $record-&gt;val('email');</p>
<p>mail($email, 'Welcome to the team', 'Welcome '.$record-&gt;val('username'). '. You have been successfully registered. Please visit '.$activationURL.' to activate your account' ); } } </p>
<dl class="section see"><dt>See Also</dt><dd><a href="http://xataface.com/wiki/sendRegistrationActivationEmail">sendRegistrationActivationEmail Wiki Page</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a1e201c0957bc704471a78cd492174871"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">startSession </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overrides the code to start sessions. If this is implemented it will override how xataface starts sessions. This may be useful if you have your own custom session handler. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

</div>
</div>
<a class="anchor" id="ad67cc2eef6182bafc3a0c759dd912015"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">validateRegistrationForm </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$values</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A hook that validates the input into the user registration form to make sure that the input is valid. </p>
<pre class="fragment">@param array $values An associative array of the input values of the registration form.
@returns mixed  If this method returns a PEAR_Error object then the validation will fail - 
 and the user will be asked to correct his input.

@par Example:
@code 
&lt;?php
</pre><p> class conf_ApplicationDelegate { function validateRegistrationForm($values){ if ( $values['age'] &lt; 18 ){ return <a class="el" href="class_p_e_a_r.html#af25642dd23a403015692fb6a3402332b">PEAR::raiseError</a>("Sorry you must be at least 18 years old to join this site."); } return true; } } </p>
<dl class="section user"><dt>Validation via the Users table Delegate Class</dt><dd>Note that since the registration form is just a "new record form" for the users table, it is also possible (and preferred) to do validation through the users table delegate class.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a href="http://xataface.com/wiki/validateRegistrationForm">validateRegistrationForm Wiki Page</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aed70627bc9fe054ddbc00d81661c86e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">valuelist__valuelistname </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li>Dataface/<a class="el" href="_application_delegate_class_8php_source.html">ApplicationDelegateClass.php</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Mar 22 2013 09:40:35 for Xataface by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
